var officeOnlineCpuProfiling=function(e){var r={};function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)t.d(o,n,function(r){return e[r]}.bind(null,n));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=327)}({271:function(e,r,t){"use strict";var o;t.d(r,"a",(function(){return o})),function(e){e[e.msoulscat_ES_EWAJS=0]="msoulscat_ES_EWAJS",e[e.msoulscat_ES_EWAJSGrid=1]="msoulscat_ES_EWAJSGrid",e[e.msoulscat_ES_EWAJSChart=6]="msoulscat_ES_EWAJSChart",e[e.msoulscat_MSOSP_FileMenuCommands=202]="msoulscat_MSOSP_FileMenuCommands",e[e.msoulscat_MSOSP_OTelJS=225]="msoulscat_MSOSP_OTelJS",e[e.msoulscat_MSOSP_OTelJSInWebWoker=227]="msoulscat_MSOSP_OTelJSInWebWoker",e[e.msoulscat_MSOSP_OTelJSWebWorkerPrototype=228]="msoulscat_MSOSP_OTelJSWebWorkerPrototype",e[e.msoulscat_Wac_WordViewer=301]="msoulscat_Wac_WordViewer",e[e.msoulscat_Wac_BrowserGeneral=306]="msoulscat_Wac_BrowserGeneral",e[e.msoulscat_Wac_TaskPane=320]="msoulscat_Wac_TaskPane",e[e.msoulscat_Wac_OneNoteGeneral=339]="msoulscat_Wac_OneNoteGeneral",e[e.msoulscat_Wac_Ribbon=340]="msoulscat_Wac_Ribbon",e[e.msoulscat_Wac_WopiPendingApplication=379]="msoulscat_Wac_WopiPendingApplication",e[e.msoulscat_Wac_Telemetry=383]="msoulscat_Wac_Telemetry",e[e.msoulscat_Wac_WacCatchUpActivities=391]="msoulscat_Wac_WacCatchUpActivities",e[e.msoulscat_Wac_Dictation=394]="msoulscat_Wac_Dictation",e[e.msoulscat_Wac_OneNoteSync=395]="msoulscat_Wac_OneNoteSync",e[e.msoulscat_Wac_VisioApp=700]="msoulscat_Wac_VisioApp",e[e.msoulscat_OneNoteOnline_EditableCache=1601]="msoulscat_OneNoteOnline_EditableCache",e[e.msoulscat_Wac_PptAnimation=800]="msoulscat_Wac_PptAnimation",e[e.msoulscat_Wac_PptLive=833]="msoulscat_Wac_PptLive",e[e.msoulscat_Wac_PptMWeb=834]="msoulscat_Wac_PptMWeb",e[e.msoulscat_Wac_PptShape=815]="msoulscat_Wac_PptShape",e[e.msoulscat_Wac_PptSession=817]="msoulscat_Wac_PptSession",e[e.msoulscat_Wac_PptSlideshow=830]="msoulscat_Wac_PptSlideshow",e[e.msoulscat_Wac_PptView=822]="msoulscat_Wac_PptView",e[e.msoulscat_Wac_VersionHistory=2300]="msoulscat_Wac_VersionHistory",e[e.msoulscat_Wac_WordPresence=302]="msoulscat_Wac_WordPresence",e[e.msoulscat_Wac_WordVersionHistory=3005]="msoulscat_Wac_WordVersionHistory",e[e.msoulscat_Wac_LivePersonaCard=3006]="msoulscat_Wac_LivePersonaCard",e[e.msoulscat_Wac_CatchUpFlyout=3012]="msoulscat_Wac_CatchUpFlyout",e[e.msoulscat_Wac_WordDesigner=3016]="msoulscat_Wac_WordDesigner",e[e.msoulscat_Wac_ModernFontPicker=3021]="msoulscat_Wac_ModernFontPicker",e[e.msoulscat_Wac_UnifiedUiHost=3027]="msoulscat_Wac_UnifiedUiHost",e[e.msoulscat_Wac_EquationTools=3033]="msoulscat_Wac_EquationTools"}(o||(o={}))},272:function(e,r,t){"use strict";var o;t.d(r,"a",(function(){return o})),function(e){e[e.Error=10]="Error",e[e.Warning=15]="Warning",e[e.Info=50]="Info",e[e.Verbose=100]="Verbose",e[e.Spam=200]="Spam"}(o||(o={}))},278:function(e,r,t){"use strict";var o=function(){function e(){}return e.prototype.sendTraceTag=function(){},e.prototype.shipAssertTag=function(){},e.prototype.debugAssertTag=function(){},e}();t.d(r,"a",(function(){return n})),t.d(r,"b",(function(){return i}));var n=new(function(){function e(){this.externalLogger=new o}return e.prototype.setLogger=function(e){this.externalLogger=e},e.prototype.sendTraceTag=function(e,r,t,o){this.externalLogger.sendTraceTag(e,r,t,o)},e.prototype.debugAssertTag=function(e,r,t,o){this.externalLogger.debugAssertTag(e,r,t,o)},e.prototype.shipAssertTag=function(e,r,t,o){this.externalLogger.shipAssertTag(e,r,t,o)},e}());function i(e){if(!e)throw new Error("The 'logger' argument is missing");n.setLogger(e)}},327:function(e,r,t){"use strict";t.r(r),t.d(r,"getJSCPUProfilingPackageRetriever",(function(){return n}));var o=t(78);function n(){return new o.d}},7:function(e,r,t){"use strict";var o=function(){function e(){}return e.prototype.getCurrentTimestamp=function(){return performance.now()},e}(),n=function(){function e(e,r,t){return this.performanceAPIChecker=e,this.performanceTimestampRetriever=r,this.logger=t,this.startTimestamp=-1,this.stopTimestamp=-1,this.performanceAPIChecker.isPerformanceAPIAvailable()?this.performanceAPIChecker.isPerformanceNowDefined()?void(this.unsupportedEnvironment=!1):(this.logger.logPerformanceNowMissingInJSEnvironment(),void(this.unsupportedEnvironment=!0)):(this.logger.logPerformanceMissingInJSEnvironment(),void(this.unsupportedEnvironment=!0))}return e.prototype.start=function(){this.unsupportedEnvironment?this.logger.logStopWatchStartingInUnsupportedEnvironment():this.startTimestamp=this.performanceTimestampRetriever.getCurrentTimestamp()},e.prototype.stop=function(){this.unsupportedEnvironment?this.logger.logStopWatchStoppingInUnsupportedEnvironment():this.stopTimestamp=this.performanceTimestampRetriever.getCurrentTimestamp()},e.prototype.getElapsedTime=function(){if(-1===this.startTimestamp)return this.logger.logGetElapsedTimeCalledWithoutCallingStart(),-1;if(-1===this.stopTimestamp)return this.logger.logGetElapsedTimeCalledWithoutCallingStop(),-1;var e=this.stopTimestamp-this.startTimestamp;return this.resetTimestamps(),e},e.prototype.resetTimestamps=function(){this.startTimestamp=-1,this.stopTimestamp=-1},e}(),i=t(278),s=t(271),a=t(272),l=function(){function e(){}return e.prototype.logPerformanceMissingInJSEnvironment=function(){i.a.sendTraceTag(579110677,s.a.msoulscat_Wac_Telemetry,a.a.Error,"Unable to find performance in the JS environment")},e.prototype.logPerformanceNowMissingInJSEnvironment=function(){i.a.sendTraceTag(579110678,s.a.msoulscat_Wac_Telemetry,a.a.Error,"Unable to find performance.now in the JS environment")},e.prototype.logStopWatchStartingInUnsupportedEnvironment=function(){i.a.sendTraceTag(579110679,s.a.msoulscat_Wac_Telemetry,a.a.Error,"Starting the stopwatch in an unsupported environment. Incorrect data will be stored")},e.prototype.logStopWatchStoppingInUnsupportedEnvironment=function(){i.a.sendTraceTag(579110680,s.a.msoulscat_Wac_Telemetry,a.a.Error,"Stopping the stopwatch in an unsupported environment. Incorrect data will be stored")},e.prototype.logGetElapsedTimeCalledWithoutCallingStart=function(){i.a.sendTraceTag(579110683,s.a.msoulscat_Wac_Telemetry,a.a.Error,"Stopwatch needs to be started before you can get elapsed time")},e.prototype.logGetElapsedTimeCalledWithoutCallingStop=function(){i.a.sendTraceTag(579110684,s.a.msoulscat_Wac_Telemetry,a.a.Error,"Stopwatch needs to be stopped before you can get elapsed time")},e}(),c=function(){function e(){}return e.prototype.isPerformanceAPIAvailable=function(){return null!=performance},e.prototype.isPerformanceNowDefined=function(){return"now"in performance},e}(),u=function(){function e(){}return e.createNewStopWatch=function(){var e=new l,r=new c,t=new o;return new n(r,t,e)},e}(),d=function(){function e(){}return e.prototype.logOperation=function(e,r,t,o,n,l,c,u){var d={};c.forEach((function(e,r){d[r]=e})),i.a.sendTraceTag(578958171,s.a.msoulscat_Wac_Telemetry,n?a.a.Error:a.a.Info,JSON.stringify({operationName:e,parentOperationName:r,didOperationSucceed:t,measuredRunTime:o,logs:l,properties:d,exception:u}))},e.prototype.logFallbackResultReturned=function(){i.a.sendTraceTag(578090845,s.a.msoulscat_Wac_Telemetry,a.a.Error,"Fallback result is being returned")},e}(),g=new(function(){function e(){this.elements=[]}return e.prototype.push=function(e){this.elements.unshift(e)},e.prototype.pop=function(){return this.elements.shift()},e.prototype.peek=function(){return this.elements.length>0?this.elements[0]:void 0},e}()),p=function(){function e(e,r,t,o){var n=g.peek(),i=void 0!==n?n:"";g.push(e),this.logs=[],this.propertyBag=new Map;var s=u.createNewStopWatch();s.start();var a=void 0,l=!1;try{l=(a=r(this)).didOperationFailUnexpectedly}catch(e){this.exception=e,l=!0}this.operationResult=void 0!==a?a:t,s.stop(),o.logOperation(e,i,this.operationResult.didOperationSucceed,s.getElapsedTime(),l,this.logs,this.propertyBag,this.exception),g.pop()}return e.prototype.addLog=function(e){this.logs.push(e)},e.prototype.addProperty=function(e,r){this.propertyBag.set(e,r)},e.prototype.getResult=function(){return this.operationResult.result},e.startNew=function(r,t,o,n){return new e(r,t,o,null==n?new d:n)},e}(),f=function(){function e(e,r,t){this.didOperationSucceed=e,this.didOperationFailUnexpectedly=r,this.result=t}return e.generateOperationResult=function(r){return new e(r.didOperationSucceed,null!=r.didOperationFailUnexpectedly&&r.didOperationFailUnexpectedly,r.result)},e}();t.d(r,"a",(function(){return p})),t.d(r,"b",(function(){return f}))},78:function(e,r,t){"use strict";var o;!function(e){e[e.Manual=0]="Manual",e[e.Timed=1]="Timed",e[e.Continuous=2]="Continuous",e[e.FullSession=3]="FullSession"}(o||(o={}));var n,i=function(){function e(e){this.logger=e}return e.prototype.start=function(){this.logger.logNullJSCPUProfilerStartCalled()},e.prototype.stop=function(){this.logger.logNullJSCPUProfilerStopCalled()},e}(),s=function(){function e(){this.xmlHTTPRequest=new XMLHttpRequest}return e.prototype.open=function(e,r,t){this.xmlHTTPRequest.open(e,r,t)},e.prototype.send=function(e){this.xmlHTTPRequest.send(e)},e}(),a=function(){function e(){}return e.prototype.generateXMLHTTPRequestWrapper=function(){return new s},e}(),l=t(7);!function(e){e.Chrome="chrome"}(n||(n={}));var c=function(){function e(e){this.logger=e}return e.prototype.hasProperty=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("CheckWindowProperty",(function(t){if(null==window)return r.logger.logWindowMissingInJSEnvironment(),l.b.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});t.addProperty("PropertyNameChecked",e);var o=e in window;return t.addProperty("DoesPropertyExistOnWindow",o),l.b.generateOperationResult({didOperationSucceed:!0,result:o})}),t).getResult()},e}(),u=function(){function e(e){this.logger=e}return e.prototype.isBrowserChromiumBased=function(e){return function(e,r,t){var o=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("CheckChromiumBrowser",(function(o){if(o.addProperty("UserAgent",e),0===e.localeCompare(""))return t.logEmptyUserAgentString(),l.b.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});var i=e.match(/(Chrome\/|CriOS\/)/g);return null!=e.match(/(CriOS\/)/g)&&t.logChromiumOnIOS(),null===i?(t.logBrowserUserAgentNotChromiumBased(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1})):r.hasProperty(n.Chrome)?l.b.generateOperationResult({didOperationSucceed:!0,result:!0}):(t.logUserAgentSpoofedToBeChromium(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1}))}),o).getResult()}(e,new c(this.logger),this.logger)},e.prototype.parseChromeMajorVersionNumber=function(e){return function(e,r){var t=l.b.generateOperationResult({didOperationSucceed:!1,result:-1});return l.a.startNew("ParseChromiumMajorVersionNumber",(function(t){t.addProperty("UserAgent",e);var o=e.match(/((Chrome\/|CriOS\/)(\d|\.)+)/g);if(null==o)return r.logChromeNotPresentInUserAgent(),l.b.generateOperationResult({didOperationSucceed:!1,result:-1});var n=o[0].split("/");if(n.length<2)return r.logUnableToIsolateChromeInformationFromUserAgent(),l.b.generateOperationResult({didOperationSucceed:!1,result:-1});var i=n[1].split(".");if(i.length<4)return r.logUnableToExtractChromeVersionInformation(),l.b.generateOperationResult({didOperationSucceed:!1,result:-1});var s=i[0],a=parseInt(s,10);if(isNaN(a))return r.logUnableToParseChromeMajorVersionString(),l.b.generateOperationResult({didOperationSucceed:!1,result:-1});return t.addProperty("MajorVersionNumber",a),l.b.generateOperationResult({didOperationSucceed:!0,result:a})}),t).getResult()}(e,this.logger)},e}(),d=t(278),g=t(271),p=t(272),f=function(){function e(){}return e.prototype.logWindowMissingInJSEnvironment=function(){d.a.sendTraceTag(578834847,g.a.msoulscat_Wac_Telemetry,p.a.Warning,"Unable to find window in the JS environment")},e.prototype.logEmptyUserAgentString=function(){d.a.sendTraceTag(578834850,g.a.msoulscat_Wac_Telemetry,p.a.Error,"Empty user agent string")},e.prototype.logChromiumOnIOS=function(){d.a.sendTraceTag(578834851,g.a.msoulscat_Wac_Telemetry,p.a.Info,"iOS version of Chromium based browser detected")},e.prototype.logBrowserUserAgentNotChromiumBased=function(){d.a.sendTraceTag(578834880,g.a.msoulscat_Wac_Telemetry,p.a.Info,"Browser not chromium based")},e.prototype.logUserAgentSpoofedToBeChromium=function(){d.a.sendTraceTag(578834881,g.a.msoulscat_Wac_Telemetry,p.a.Info,"Browser user agent spoofed to be chromium based")},e.prototype.logUserAgentToParseChromiumMajorVersionNumber=function(e){d.a.sendTraceTag(578834882,g.a.msoulscat_Wac_Telemetry,p.a.Info,e)},e.prototype.logChromeNotPresentInUserAgent=function(){d.a.sendTraceTag(578834883,g.a.msoulscat_Wac_Telemetry,p.a.Error,"Chrome was not found in the user agent")},e.prototype.logUnableToIsolateChromeInformationFromUserAgent=function(){d.a.sendTraceTag(578834884,g.a.msoulscat_Wac_Telemetry,p.a.Error,"Unable to isolate chrome information from the user agent")},e.prototype.logUnableToExtractChromeVersionInformation=function(){d.a.sendTraceTag(578834885,g.a.msoulscat_Wac_Telemetry,p.a.Error,"Unable to extract chrome version information from the user agent")},e.prototype.logUnableToParseChromeMajorVersionString=function(){d.a.sendTraceTag(578834886,g.a.msoulscat_Wac_Telemetry,p.a.Error,"Unable to parse the chromium major version number")},e.prototype.logRequestIdleCallbackMissing=function(){d.a.sendTraceTag(576582740,g.a.msoulscat_Wac_Telemetry,p.a.Warning,"Unable to find window.requestIdleCallback in the JS environment")},e.prototype.logCallbackBeingInvokedImmediately=function(){d.a.sendTraceTag(576582743,g.a.msoulscat_Wac_Telemetry,p.a.Error,"Callback is being invoked immediately as there is no platform support for deferring work")},e.prototype.logCancelIdleCallbackMissing=function(){d.a.sendTraceTag(576582744,g.a.msoulscat_Wac_Telemetry,p.a.Warning,"Unable to find window.cancelIdleCallback in the JS environment")},e.prototype.logUnknownMechanism=function(){d.a.sendTraceTag(576582747,g.a.msoulscat_Wac_Telemetry,p.a.Error,"Unable to find a way to cancel the idle time job")},e.prototype.logWindowSetTimeOutMissingInJSEnvironment=function(){d.a.sendTraceTag(576239755,g.a.msoulscat_Wac_Telemetry,p.a.Error,"window.setTimeout is missing in JS environment")},e.prototype.logTimerJobDuration=function(e){d.a.sendTraceTag(576239756,g.a.msoulscat_Wac_Telemetry,p.a.Info,""+e)},e.prototype.logTimerJobScheduled=function(){d.a.sendTraceTag(576239757,g.a.msoulscat_Wac_Telemetry,p.a.Info,"Timer job was scheduled")},e.prototype.logWindowPerformanceMissingInJSEnvironment=function(){d.a.sendTraceTag(576218121,g.a.msoulscat_Wac_Telemetry,p.a.Error,"Unable to find window.performance in the JS environment")},e.prototype.logWindowPerformanceNowMissingInJSEnvironment=function(){d.a.sendTraceTag(576218122,g.a.msoulscat_Wac_Telemetry,p.a.Error,"Unable to find window.performance.now in the JS environment")},e.prototype.logNavigatorMissingInJSEnvironment=function(){d.a.sendTraceTag(574657350,g.a.msoulscat_Wac_Telemetry,p.a.Error,"Navigator is missing in the JS environment")},e.prototype.logSendBeaconNotSupported=function(){d.a.sendTraceTag(573970625,g.a.msoulscat_Wac_Telemetry,p.a.Info,"SendBeacon not supported in current environment")},e.prototype.logBeaconURLIsEmpty=function(){d.a.sendTraceTag(573919702,g.a.msoulscat_Wac_Telemetry,p.a.Error,"We were passed an empty URL for sendBeacon")},e.prototype.logBeaconDataIsEmpty=function(){d.a.sendTraceTag(573907718,g.a.msoulscat_Wac_Telemetry,p.a.Error,"We were passed an empty data for sendBeacon")},e.prototype.logDocumentMissingInJsEnvironment=function(){d.a.sendTraceTag(573572181,g.a.msoulscat_Wac_Telemetry,p.a.Error,"Document is not present in JS Environment")},e.prototype.logDocumentVisibilityStateMissingInJsEnvironment=function(){d.a.sendTraceTag(573572182,g.a.msoulscat_Wac_Telemetry,p.a.Error,"Document VisibilityState is not present in JS Environment")},e.prototype.logDocumentAddEventListenerMissingInJsEnvironment=function(){d.a.sendTraceTag(573572183,g.a.msoulscat_Wac_Telemetry,p.a.Error,"Document AddEventListener is not present in JS Environment")},e}(),m=function(){function e(){}return e.getBrowserUtils=function(){var e=new f;return new u(e)},e}();var T,h=function(){function e(e,r){this.windowPropertyChecker=e,this.logger=r}return e.prototype.scheduleJobForIdleTime=function(e){var r,t,o,n,i;r=function(){e()},t=this.windowPropertyChecker,o=this.logger,i=l.b.generateOperationResult({didOperationSucceed:!1,result:{id:-1,underlyingMechanism:"InvalidUnderlyingMechanism"}}),l.a.startNew("RequestIdleCallbackShim",(function(){if(t.hasProperty("requestIdleCallback")){var e=window.requestIdleCallback(r,n);return l.b.generateOperationResult({didOperationSucceed:!0,result:{id:e,underlyingMechanism:"requestIdleCallback"}})}o.logRequestIdleCallbackMissing();var i=Date.now(),s={didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-i))}};return o.logCallbackBeingInvokedImmediately(),r(s),l.b.generateOperationResult({didOperationSucceed:!0,result:{id:-1,underlyingMechanism:"InvalidUnderlyingMechanism"}})}),i).getResult()},e}(),v=function(){function e(){}return e.getIdleTimeJobScheduler=function(){var e=new f,r=new c(e);return new h(r,e)},e}(),P=function(){function e(){}return e.prototype.getBooleanPropertyValue=function(e){var r=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("CheckSelfProperty",(function(r){r.addProperty("PropertyChecked",e);var t=!!self.hasOwnProperty(e)&&self[e];return l.b.generateOperationResult({didOperationSucceed:!0,result:t})}),r).getResult()},e}(),S=function(){function e(e){this.selfPropertyChecker=e}return e.prototype.isSiteCrossOriginIsolated=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("CheckCrossOriginSiteIsolation",(function(){var r=e.selfPropertyChecker.getBooleanPropertyValue("crossOriginIsolated");return l.b.generateOperationResult({didOperationSucceed:!0,result:r})}),r).getResult()},e}(),I=(function(){function e(){}e.getChecker=function(){var e=new P;return new S(e)}}(),function(){function e(e){this.logger=e}return e.prototype.setTimerJob=function(e,r){var t=this,o=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("SetTimerJob",(function(){return null==window?(t.logger.logWindowMissingInJSEnvironment(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0,didOperationFailUnexpectedly:!0})):null==window.setTimeout?(t.logger.logWindowSetTimeOutMissingInJSEnvironment(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0,didOperationFailUnexpectedly:!0})):(t.logger.logTimerJobDuration(r),window.setTimeout(e,r),t.logger.logTimerJobScheduled(),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0}))}),o)},e}()),b=function(){function e(){}return e.getTimerJobScheduler=function(){var e=new f;return new I(e)},e}(),y=function(){function e(e){var r=this;this.logger=e,this.onVisibilityChange=function(){r.updateIsHidden()},this.isDocumentPresentInJsEnvironment()||this.logger.logDocumentMissingInJsEnvironment(),this.isDocumentVisibilityStatePresentInJsEnvironment()||this.logger.logDocumentVisibilityStateMissingInJsEnvironment(),this.isDocumentAddEventListenerPresentInJsEnvironment()||this.logger.logDocumentAddEventListenerMissingInJsEnvironment(),this.lastUnHiddenDate=void 0,this.isDocumentHidden=!1,this.updateIsHidden(),document.addEventListener("visibilitychange",this.onVisibilityChange)}return e.prototype.isDocumentVisibleNow=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("CheckDocumentVisibility",(function(){if(!e.isDocumentPresentInJsEnvironment())return e.logger.logDocumentMissingInJsEnvironment(),l.b.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});if(!e.isDocumentVisibilityStatePresentInJsEnvironment())return e.logger.logDocumentVisibilityStateMissingInJsEnvironment(),l.b.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});var r="hidden"!==document.visibilityState;return l.b.generateOperationResult({didOperationSucceed:!0,result:r})}),r).getResult()},e.prototype.wasDocumentHiddenDuringTimeRange=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("WasDocumentHiddenDuringTimeRange",(function(){if(r.isDocumentHidden)return l.b.generateOperationResult({didOperationSucceed:!0,result:!0});if(void 0===r.lastUnHiddenDate)return l.b.generateOperationResult({didOperationSucceed:!0,result:!1});var t=Date.now()-r.lastUnHiddenDate<e;return l.b.generateOperationResult({didOperationSucceed:!0,result:t})}),t).getResult()},e.prototype.isDocumentPresentInJsEnvironment=function(){return null!=document},e.prototype.isDocumentVisibilityStatePresentInJsEnvironment=function(){return"visibilityState"in document},e.prototype.isDocumentAddEventListenerPresentInJsEnvironment=function(){return"addEventListener"in document},e.prototype.updateIsHidden=function(){this.isDocumentHidden="hidden"===document.visibilityState,this.isDocumentHidden||(this.lastUnHiddenDate=Date.now())},e}(),C=function(){function e(){}return e.getDocumentVisibilityChecker=function(){var e=new f;return new y(e)},e}();!function(e){e.SendBeacon="sendBeacon"}(T||(T={}));var k=function(){function e(e,r,t,o){this.navigatorPropertyChecker=e,this.navigatorAPI=r,this.xmlHTTPRequestWrapperFactory=t,this.logger=o}return e.prototype.sendBeacon=function(e){return r=this.navigatorPropertyChecker,t=this.navigatorAPI,o=this.xmlHTTPRequestWrapperFactory,n=this.logger,i=e.url,s=e.data,a=l.b.generateOperationResult({didOperationSucceed:!1,result:!1}),l.a.startNew("SendBeaconCall",(function(e){if(0===i.length)return n.logBeaconURLIsEmpty(),l.b.generateOperationResult({didOperationSucceed:!1,result:!1});if(0===s.length)return n.logBeaconDataIsEmpty(),l.b.generateOperationResult({didOperationSucceed:!1,result:!1});if(!r.hasProperty(T.SendBeacon)){n.logSendBeaconNotSupported();var a=o.generateXMLHTTPRequestWrapper();return a.open("POST",i,!0),a.send(s),e.addProperty("POSTRequestSent",!0),l.b.generateOperationResult({didOperationSucceed:!0,result:!0})}var c=t.sendBeacon(i,s);return e.addProperty("BeaconRequestSuccessfullyQueued",c),l.b.generateOperationResult({didOperationSucceed:!0,result:c})}),a).getResult();var r,t,o,n,i,s,a},e}(),O=function(){function e(e){this.logger=e}return e.prototype.hasProperty=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("CheckNavigatorProperty",(function(t){if(null==navigator)return r.logger.logNavigatorMissingInJSEnvironment(),l.b.generateOperationResult({didOperationSucceed:!1,result:!1,didOperationFailUnexpectedly:!0});t.addProperty("NavigatorPropertyChecked",e);var o=e in navigator;return t.addProperty("IsPropertyPresentInNavigatorResult",o),l.b.generateOperationResult({didOperationSucceed:!0,result:o})}),t).getResult()},e}(),M=function(){function e(e){this.logger=e}return e.prototype.sendBeacon=function(e,r){return null==navigator?(this.logger.logNavigatorMissingInJSEnvironment(),!1):navigator.sendBeacon(e,r)},e}(),x=function(){function e(){}return e.getSendBeaconScheduler=function(){var e=new f,r=new O(e),t=new M(e),o=new a;return new k(r,t,o,e)},e}(),N=function(){function e(e){this.logger=e}return e.prototype.getCurrentTimestamp=function(){if(null!=window)if(null!=window.performance){if(null!=window.performance.now)return window.performance.now();this.logger.logWindowPerformanceNowMissingInJSEnvironment()}else this.logger.logWindowPerformanceMissingInJSEnvironment();else this.logger.logWindowMissingInJSEnvironment()},e}(),F=function(){function e(){}return e.getTimestampRetriever=function(){var e=new f;return new N(e)},e}(),w=function(){function e(){this.elements=[]}return e.prototype.peek=function(){return this.elements.length>0?this.elements[0]:void 0},e.prototype.queue=function(e){this.elements.push(e)},e.prototype.dequeue=function(){this.elements.shift()},e.prototype.length=function(){return this.elements.length},e}(),R=function(){function e(){}return e.createQueue=function(){return new w},e}(),W=function(){function e(e){this.logger=e,this.logger=e}return e.prototype.retrieveUserAgent=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:""});return l.a.startNew("RetrieveUserAgent",(function(){var r=e.getUserAgentFromNavigatorAPI();return l.b.generateOperationResult({didOperationSucceed:!0,result:r})}),r).getResult()},e.prototype.getUserAgentFromNavigatorAPI=function(){return"undefined"==typeof navigator?(this.logger.logNavigatorMissingInJSEnvironment(),""):navigator.userAgent},e}(),_=function(){function e(){}return e.getUserAgentRetriever=function(){return new W(new f)},e}(),E=function(){function e(){this.elements=[]}return e.prototype.peek=function(){var e=this.count();if(0!==e)return this.elements[e-1]},e.prototype.push=function(e){this.elements.push(e)},e.prototype.pop=function(){this.elements.pop()},e.prototype.count=function(){return this.elements.length},e}(),L=function(){function e(){}return e.createStack=function(){return new E},e}(),U=function(){function e(){}return e.getWindowPropertyChecker=function(){var e=new f;return new c(e)},e}(),B=function(){function e(e){this.windowPropertyChecker=e}return e.prototype.isWebWorkerAPIAvailable=function(){return!!this.windowPropertyChecker.hasProperty("Worker")},e}(),A=(function(){function e(){}e.getWebWorkerAPIAvailabilityChecker=function(){var e=U.getWindowPropertyChecker();return new B(e)}}(),function(){function e(){}return e.prototype.generateGuid=function(){return""},e}()),J=function(){function e(){}return e.getGuidGenerator=function(){return new A},e}();var D,V=t(8),j=["JSSelfProfilingAPI-Profile","TransformProfilerTrace","SendCallTrees","SerializeCallTreesArray","OnMessageReceivedFromWorker","useWebWorkForProfilerTraceProcessing","ProfilerWorkerOnMessage","StopManualProfilerInternal"],z=function(){function e(e,r,t,o,n){this.customProperties=e,this.profilerTrace=r,this.profilerTraceStartTimestamp=t,this.profilerProperties=o,this.elapsedProfilingTime=n}return e.prototype.getCustomProperties=function(){return this.customProperties},e.prototype.getResources=function(){return this.profilerTrace.resources},e.prototype.getFrames=function(){return this.profilerTrace.frames},e.prototype.getStacks=function(){return this.profilerTrace.stacks},e.prototype.getSamples=function(){return this.profilerTrace.samples},e.prototype.getProfilerTraceStartTimestamp=function(){return this.profilerTraceStartTimestamp},e.prototype.getProfilerProperties=function(){return this.profilerProperties},e.prototype.getElapsedProfilingTimeInMs=function(){return this.elapsedProfilingTime},e}();!function(e){e.Chrome="chrome"}(D||(D={}));var q={resources:[],samples:[],frames:[],stacks:[]},G={name:"InvalidFrameName",resourceId:-1,line:-1,column:-1},H={obfuscatedName:"InvalidObfuscatedName",startTimeInMs:-1,frameOnlyRunTimeInMs:-1,subTreeRunTimeInMs:-1,totalExecutionTimeInMs:-1,hasChildrenNodes:!1,resourceInfo:{resourceName:"InvalidResourceName",lineNo:-1,columnNo:-1}},Z="00000000-0000-0000-0000-000000000000",K=function(){function e(e,r,t,o,n,i,s){this.preProfilerStartChecker=e,this.jsSelfProfilingAPI=r,this.profilerInitOptions=t,this.customPropertiesRetriever=o,this.timestampRetriever=n,this.customPropertiesExtractor=i,this.logger=s,this.profiler=void 0,this.profilerTrace=void 0,this.profilerObservers=[],this.profilerStartTimestamp=void 0,this.profilerStopTimestamp=void 0}return e.prototype.start=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("StartManualProfiler",(function(){var r=e.startProfilerImplementation();return l.b.generateOperationResult({didOperationSucceed:r,result:void 0})}),r,this.logger)},e.prototype.startProfilerImplementation=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("StartManualProfilerInternal",(function(t){if(void 0!==r.profiler)return r.logger.logProfilerAlreadyStarted(),l.b.generateOperationResult({didOperationSucceed:!1,result:!1});if(null!=e&&r.logger.logPostProfilerStartCallbackSpecified(),!r.preProfilerStartChecker.shouldProfilingStart())return r.logger.logPreProfilerStartCheckFailed(),e&&(r.logger.logInvokingPostProfilerStartCallback(),e(!1)),l.b.generateOperationResult({didOperationSucceed:!0,result:!0});if(null==r.profilerInitOptions.maximumNumberOfSamplesToTake)return r.logger.logMaxBufferSizeNotFixed(),l.b.generateOperationResult({didOperationSucceed:!1,result:!1});t.addProperty("SamplingInterval",r.profilerInitOptions.samplingIntervalInMs);return t.addProperty("MaxBufferSize",r.profilerInitOptions.maximumNumberOfSamplesToTake),r.profiler=r.jsSelfProfilingAPI.createProfiler({sampleInterval:r.profilerInitOptions.samplingIntervalInMs,maxBufferSize:r.profilerInitOptions.maximumNumberOfSamplesToTake}),r.logger.logProfilerStartSucceeded(),r.profilerStartTimestamp=r.timestampRetriever.getCurrentTimestamp(),null!=e&&(r.logger.logInvokingPostProfilerStartCallback(),e(!0)),l.b.generateOperationResult({didOperationSucceed:!0,result:!0})}),t,this.logger).getResult()},e.prototype.stop=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("StopManualProfiler",(function(){var r=e.stopProfilerImplementation();return l.b.generateOperationResult({didOperationSucceed:r,result:void 0})}),r,this.logger)},e.prototype.stopProfilerImplementation=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("StopManualProfilerInternal",(function(t){return null==r.profiler?(r.logger.logProfilerInstanceIsUndefined(),l.b.generateOperationResult({didOperationSucceed:!1,result:!1})):(0===r.profilerObservers.length&&r.logger.logNoProfilerObserverSubscribed(),null!=e&&r.logger.logPostProfilerStopCallbackSpecified(),r.logger.logProfilerStopGoingToBeInvoked(),r.profiler.stop().then((function(o){if(r.profilerStopTimestamp=r.timestampRetriever.getCurrentTimestamp(),r.logger.logProfilerStopPromiseResolved(),r.profilerTrace=o,r.profilerObservers.length>0){var n=r.customPropertiesExtractor.extractCustomProperties(r.customPropertiesRetriever),i=-1;void 0!==r.profilerStartTimestamp&&void 0!==r.profilerStopTimestamp&&(i=r.profilerStopTimestamp-r.profilerStartTimestamp);t.addProperty("ElapsedProfilingTime",i);var s=new z(n,r.profilerTrace,void 0!==r.profilerStartTimestamp?r.profilerStartTimestamp:-1,r.profilerInitOptions,i);r.profilerObservers.forEach((function(e){e.onProfilerStop(s)}))}r.profiler=void 0,null!=e&&(r.logger.logPostProfilerStopCallbackInvoked(),e())}),(function(e){r.logger.logProfilerStopPromiseRejected(e),r.profiler=void 0,r.profilerTrace=void 0})),r.profilerStartTimestamp=void 0,r.profilerStopTimestamp=void 0,l.b.generateOperationResult({didOperationSucceed:!0,result:!0}))}),t,this.logger).getResult()},e.prototype.subscribe=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("SubscribeProfilerObserver",(function(){return r.profilerObservers.push(e),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e}(),Q=function(e){function r(r,t,o,n,i,s,a,l){var c=e.call(this,r,t,o,i,s,a,l)||this;return c.timerJobScheduler=n,c.postProfilerStartCallback=function(e){c.logger.logPostTimedStartProfilerStartCallbackInvoked(),null!=c.profilerInitOptions.profilingIntervalInMs?e&&(c.timerJobScheduler.setTimerJob(c.postTimerStopCallBack,c.profilerInitOptions.profilingIntervalInMs),c.logger.logTimerJobToStopProfilerSet()):c.logger.logProfilingIntervalIsUndefined()},c.postTimerStopCallBack=function(){c.logger.logTimedProfilerStopCallbackInvoked(),c.stop(!0)},c}return Object(V.__extends)(r,e),r.prototype.start=function(){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("StartTimedProfiler",(function(){return e.prototype.startProfilerImplementation.call(r,r.postProfilerStartCallback),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},r.prototype.stop=function(r){var t=this,o=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("StopTimedProfiler",(function(){return null==r||r||t.logger.logTimedProfilerIsBeingStoppedManually(),e.prototype.stopProfilerImplementation.call(t),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),o,this.logger)},r}(K),X=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.postProfilerStartCallback=function(e){r.logger.logPostTimedStartProfilerStartCallbackInvoked(),r.profilerInitOptions.profilingIntervalInMs?e?(r.timerJobScheduler.setTimerJob(r.postTimerStopCallBack,r.profilerInitOptions.profilingIntervalInMs),r.logger.logTimerJobToStopProfilerSet()):(r.logger.logPostProfilerStopCallbackInvoked(),r.postProfilerStopCallback()):r.logger.logProfilingIntervalIsUndefined()},r.postProfilerStopCallback=function(){null!=r.profilerInitOptions.idleIntervalInMs?r.timerJobScheduler.setTimerJob(r.profilerStopCallback,r.profilerInitOptions.idleIntervalInMs):r.logger.logNullOrUndefinedIdleInterval()},r.profilerStopCallback=function(){r.start()},r}return Object(V.__extends)(r,e),r.prototype.start=function(){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("StartContinuousProfiler",(function(){return e.prototype.start.call(r),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},r.prototype.stop=function(){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("StopContinuousProfiler",(function(){return e.prototype.stopProfilerImplementation.call(r,r.postProfilerStopCallback),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},r}(Q),Y=function(e){function r(r,t,o,n,i,s,a,l){var c=e.call(this,r,t,o,i,s,a,l)||this;return c.timerJobScheduler=n,c.postProfilerStartCallback=function(e){c.timerJobScheduler.setTimerJob((function(){e?c.stop(!0):c.start()}),e?1e4:0)},c.postProfilerStopCallback=function(){c.start()},c}return Object(V.__extends)(r,e),r.prototype.start=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});return l.a.startNew("StartFullSessionProfiler",(function(){return e.startProfilerImplementation(e.postProfilerStartCallback),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r,this.logger).getResult()},r.prototype.stop=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});return l.a.startNew("StopFullSessionProfiler",(function(){var t=void 0;return void 0!==e&&e&&(t=r.postProfilerStopCallback),r.stopProfilerImplementation(t),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger).getResult()},r}(K),$=function(){function e(){}return e.prototype.stop=function(){return Promise.resolve(q)},e}(),ee=function(){function e(e){this.logger=e}return e.prototype.createProfiler=function(e){var r=l.b.generateOperationResult({didOperationSucceed:!1,result:new $});return l.a.startNew("JSSelfProfilingAPI-Profile",(function(){var r=new Profiler(e);return l.b.generateOperationResult({didOperationSucceed:!0,result:r})}),r,this.logger).getResult()},e}(),re=function(){function e(e,r){this.documentVisibilityChecker=e,this.shouldProfilerStartInAHiddenDocument=r}return e.prototype.shouldProfilingStart=function(){return!!this.isDocumentVisibleNow()||this.shouldProfilerStartInAHiddenDocument},e.prototype.isDocumentVisibleNow=function(){return this.documentVisibilityChecker.isDocumentVisibleNow()},e}();var te=function(){function e(e){this.logger=e}return e.prototype.extractCustomProperties=function(e){var r=this,t={};if(null!=e&&"getCustomProperties"in e&&"function"==typeof e.getCustomProperties){var o=e.getCustomProperties();null!=o?o.forEach((function(e,o){null==o?r.logger.logCustomPropertyKeyIsNull():null==e?r.logger.logCustomPropertyValueIsNull():t[o]=e})):this.logger.logNullOrUndefinedCustomProperties()}else this.logger.logNullOrUndefinedCustomPropertiesRetriever();return t},e}(),oe=function(){function e(){}return e.buildProfiler=function(e,r,t,n,s,a){var c=l.b.generateOperationResult({didOperationSucceed:!1,result:new i(a)});return l.a.startNew("BuildProfilerInstance",(function(c){c.addProperty("ProfilerName",function(e,r){var t="";switch(e){case o.Manual:t="ManualProfiler";break;case o.Timed:t="TimedProfiler";break;case o.Continuous:t="ContinuousProfiler";break;case o.FullSession:t="FullSessionProfiler";break;default:r.logMissingProfilerNameForProfilerType(e),t="MissingProfilerName"}return t}(e,a)),c.addProperty("ProfilerInitOptions",{samplingIntervalInMs:r.samplingIntervalInMs,maximumNumberOfSamplesToTake:r.maximumNumberOfSamplesToTake,profilingIntervalInMs:r.profilingIntervalInMs,idleIntervalInMs:r.idleIntervalInMs});var u=C.getDocumentVisibilityChecker(),d=new re(u,null!=s.shouldProfilingStartInAHiddenDocument&&s.shouldProfilingStartInAHiddenDocument),g=new ee(a),p=b.getTimerJobScheduler(),f=F.getTimestampRetriever(),m=new te(a),T=void 0,h=!1,v=!1,P=!1;switch(e){case o.Manual:var S=new K(d,g,r,t,f,m,a);S.subscribe(n),P=!0,T=S,h=!0;break;case o.Timed:var I=new Q(d,g,r,p,t,f,m,a);I.subscribe(n),P=!0,T=I,h=!0;break;case o.Continuous:var y=new X(d,g,r,p,t,f,m,a);y.subscribe(n),P=!0,T=y,h=!0;break;case o.FullSession:var k=new Y(d,g,r,p,t,f,m,a);k.subscribe(n),P=!0,T=k,h=!0;break;default:a.logMissingProfilerImplementation(e),T=new i(a),h=!1,v=!0}void 0===T&&a.logNoProfilerInstanceBuilt(),void 0===T||P||a.logCreateProfilerDidNotSubscribeProfilerObserver();var O=void 0===T?new i(a):T;return l.b.generateOperationResult({didOperationSucceed:h,result:O,didOperationFailUnexpectedly:v})}),c,a).getResult()},e}(),ne=function(){function e(e,r,t,o,n,i){this.validator=e,this.logger=r,this.optionsValidatorFactory=t,this.profilerInitOptionsFixerFactory=o,this.profilerObserver=n,this.packageInitOptions=i,this.numberOfProfilersCreated=0}return e.prototype.createProfiler=function(e,r,t){var o=this,n=l.b.generateOperationResult({didOperationSucceed:!1,result:new i(this.logger)});return l.a.startNew("CreateProfiler",(function(){if(!o.validator.areValidationsSuccessful())return o.logger.logFailingValidationsInProfilerFactory(),l.b.generateOperationResult({didOperationSucceed:!1,result:new i(o.logger)});if(!o.optionsValidatorFactory.retrieveValidator(e).isValid(r))return o.logger.logProfilerInitOptionsValidationFailed(),l.b.generateOperationResult({didOperationSucceed:!1,result:new i(o.logger)});var n=o.profilerInitOptionsFixerFactory.getFixerForProfilerType(e);n.fixProfilerInitOptions(r);var s=n.retrieveFixedProfilerInitOptions();if(null==s)return o.logger.logUnableToFixUpProfilerInitOptions(),l.b.generateOperationResult({didOperationSucceed:!1,result:new i(o.logger)});if(o.numberOfProfilersCreated>=100)return o.logger.logMaxNumberOfProfilersAlreadyCreated(),l.b.generateOperationResult({didOperationSucceed:!1,result:new i(o.logger)});var a=oe.buildProfiler(e,s,t,o.profilerObserver,o.packageInitOptions,o.logger);return o.numberOfProfilersCreated=o.numberOfProfilersCreated+1,l.b.generateOperationResult({didOperationSucceed:!0,result:a})}),n,this.logger).getResult()},e}(),ie=function(){function e(e,r,t){this.featureChecker=e,this.supportedEnvironmentChecker=r,this.logger=t}return e.prototype.areValidationsSuccessful=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("CheckProfilerFactoryValidations",(function(){return e.isFeatureEnabled()?e.isSupportedEnvironmentForProfiling()?l.b.generateOperationResult({didOperationSucceed:!0,result:!0}):(e.logger.logProfilingIsNotSupportedEnvironment(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1})):(e.logger.logProfilingIsNotEnabled(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1}))}),r,this.logger).getResult()},e.prototype.isFeatureEnabled=function(){if(null==this.featureChecker)return this.logger.logFeatureCheckerIsNullOrUndefined(),!1;if(!("isProfilingEnabled"in this.featureChecker))return this.logger.logMissingIsProfilingEnabledOnFeatureChecker(),!1;return"function"!=typeof this.featureChecker.isProfilingEnabled?(this.logger.logFeatureCheckerIsProfilingEnabledNotAFunction(),!1):this.featureChecker.isProfilingEnabled()},e.prototype.isSupportedEnvironmentForProfiling=function(){return this.supportedEnvironmentChecker.isSupportedEnvironment()},e}(),se=function(){function e(e,r,t){this.userAgentRetriever=e,this.browserUtils=r,this.logger=t}return e.prototype.isProfilingSupportedInJSEnvironment=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("CheckSupportedBrowser",(function(r){var t=e.userAgentRetriever.retrieveUserAgent();r.addProperty("UserAgent",t);var o=e.browserUtils.isBrowserChromiumBased(t);if(r.addProperty("isChromiumBasedBrowser",o),!o)return e.logger.logBrowserUserAgentNotChromiumBased(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1});var n=e.browserUtils.parseChromeMajorVersionNumber(t);r.addProperty("ChromiumMajorVersionNumber",n);var i=n>=94;return r.addProperty("IsSupportedVersionOfChromiumBrowser",i),i?l.b.generateOperationResult({didOperationSucceed:!0,result:!0}):(e.logger.logUnsupportedChromiumMajorVersionNumber(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1}))}),r,this.logger).getResult()},e}(),ae=function(){function e(e,r,t,o){this.supportedBrowserChecker=e,this.supportedOperatingSystemChecker=r,this.jsSelfProfilingAPIAvailabilityChecker=t,this.logger=o}return e.prototype.isSupportedEnvironment=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("CheckSupportedEnvironment",(function(){return e.isSupportedBrowser()?e.isSupportedOperatingSystem()?e.isJSSelfProfilingAPIAvailable()?l.b.generateOperationResult({didOperationSucceed:!0,result:!0}):(e.logger.logJSSelfProfilingAPIUnavailable(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1})):(e.logger.logUnsupportedOperatingSystem(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1})):(e.logger.logUnsupportedBrowser(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1}))}),r,this.logger).getResult()},e.prototype.isSupportedBrowser=function(){return this.supportedBrowserChecker.isProfilingSupportedInJSEnvironment()},e.prototype.isSupportedOperatingSystem=function(){return this.supportedOperatingSystemChecker.isSupportedOperatingSystem()},e.prototype.isJSSelfProfilingAPIAvailable=function(){return this.jsSelfProfilingAPIAvailabilityChecker.isJSSelfProfilingAPIAvailable()},e}(),le=function(){function e(e,r){this.userAgentRetriever=e,this.logger=r}return e.prototype.isSupportedOperatingSystem=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,didOperationFailUnexpectedly:!0,result:!1});return l.a.startNew("SupportedOperatingSystemCheck",(function(){var r=e.isOperatingSystemWindows();return l.b.generateOperationResult({didOperationSucceed:!0,result:r})}),r,this.logger).getResult()},e.prototype.isOperatingSystemWindows=function(){return this.userAgentRetriever.retrieveUserAgent().toLowerCase().includes("win")},e}(),ce=function(){function e(e){this.logger=e}return e.prototype.isJSSelfProfilingAPIAvailable=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("CheckForJSSelfProfilingAPI",(function(){return null==window?(e.logger.logWindowMissingInJSEnvironment(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1})):"Profiler"in window?l.b.generateOperationResult({didOperationSucceed:!0,result:!0}):(e.logger.logProfilerNotPresentInJSEnvironment(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1}))}),r,this.logger).getResult()},e}(),ue=function(){function e(e){this.logger=e}return e.prototype.isSupportedEnvironment=function(){return this.logger.logNullSupportedEnvironmentCheckerInvoked(),!1},e}(),de=function(){function e(){}return e.build=function(e){var r=l.b.generateOperationResult({didOperationSucceed:!1,result:new ue(e)});return l.a.startNew("BuildSupportedEnvironmentChecker",(function(){var r=_.getUserAgentRetriever(),t=m.getBrowserUtils(),o=new se(r,t,e),n=new le(r,e),i=new ce(e);return l.b.generateOperationResult({didOperationSucceed:!0,result:new ae(o,n,i,e)})}),r,e).getResult()},e}(),ge=function(){function e(e){this.logger=e}return e.prototype.isValid=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("CheckSamplingInterval",(function(t){if(null==e)return r.logger.logProfilerInitOptionsNullOrUndefined(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1});return t.addProperty("SamplingIntervalToValidate",e.samplingIntervalInMs),e.samplingIntervalInMs<=0?(r.logger.logSamplingIntervalIsLessThanOrEqualToZero(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1})):r.convertToMicroSeconds(e.samplingIntervalInMs)>2147483647?(r.logger.logSamplingIntervalAboveMaxSamplingInterval(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1})):(e.samplingIntervalInMs<16&&r.logger.logSamplingIntervalLessThanMinimumSupportedSamplingInterval(e.samplingIntervalInMs,16),l.b.generateOperationResult({didOperationSucceed:!0,result:!0}))}),t,this.logger).getResult()},e.prototype.convertToMicroSeconds=function(e){return 1e3*e},e}(),pe=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return Object(V.__extends)(r,e),r.prototype.isValid=function(r){var t=this,o=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("CheckMaxBufferSizeIfSpecified",(function(){return null==r?(t.logger.logProfilerInitOptionsNullOrUndefined(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1})):e.prototype.isValid.call(t,r)?t.isMaxBufferSizeValidIfSpecified(r)?l.b.generateOperationResult({didOperationSucceed:!0,result:!0}):(t.logger.logMaxBufferValidationFailed(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1})):(t.logger.logSamplingIntervalValidationCheckFailed(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1}))}),o,this.logger).getResult()},r.prototype.isMaxBufferSizeValidIfSpecified=function(e){return null==e.maximumNumberOfSamplesToTake?(this.logger.logMaxBufferSizeNotSpecified(),!0):!(e.maximumNumberOfSamplesToTake<=0)||(this.logger.logMaxBufferSizeLessThanOrEqualToZero(),!1)},r}(ge),fe=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return Object(V.__extends)(r,e),r.prototype.isValid=function(r){var t=this,o=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("CheckProfilingIntervalIfSpecified",(function(){return null==r?(t.logger.logProfilerInitOptionsNullOrUndefined(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1})):e.prototype.isValid.call(t,r)?t.isProfilingIntervalValid(r)?t.isProfilingIntervalGreaterThanSamplingInterval(r)?l.b.generateOperationResult({didOperationSucceed:!0,result:!0}):l.b.generateOperationResult({didOperationSucceed:!0,result:!1}):(t.logger.logProfilingIntervalValidationFailed(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1})):(t.logger.logManualProfilerValidationFailed(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1}))}),o,this.logger).getResult()},r.prototype.isProfilingIntervalValid=function(e){return null==e.profilingIntervalInMs?(this.logger.logProfilingIntervalNullOrUndefined(),!1):!(e.profilingIntervalInMs<=0)||(this.logger.logProfilingIntervalLessThanOrEqualToZero(),!1)},r.prototype.isProfilingIntervalGreaterThanSamplingInterval=function(e){return null==e.profilingIntervalInMs?(this.logger.logProfilingIntervalNullOrUndefined(),!1):!(e.profilingIntervalInMs<e.samplingIntervalInMs)||(this.logger.logProfilingIntervalLessThanSamplingInterval(),!1)},r}(pe),me=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return Object(V.__extends)(r,e),r.prototype.isValid=function(r){var t=this,o=l.b.generateOperationResult({didOperationSucceed:!1,result:!1});return l.a.startNew("CheckIdleIntervalIfSpecified",(function(){return null==r?(t.logger.logProfilerInitOptionsNullOrUndefined(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1})):e.prototype.isValid.call(t,r)?t.isIdleIntervalInValid(r)?l.b.generateOperationResult({didOperationSucceed:!0,result:!0}):(t.logger.logIdleIntervalValidationFailed(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1})):(t.logger.logTimedProfilerValidationFailed(),l.b.generateOperationResult({didOperationSucceed:!0,result:!1}))}),o,this.logger).getResult()},r.prototype.isIdleIntervalInValid=function(e){return null==e.idleIntervalInMs?(this.logger.logIdleIntervalIsNullOrUndefined(),!1):!(e.idleIntervalInMs<=0)||(this.logger.logIdleIntervalIsLessThanOrEqualToZero(),!1)},r}(fe),Te=function(){function e(e){this.logger=e}return e.prototype.isValid=function(e){return this.logger.logNullJSCPUProfilerInitOptionsValidatorInvoked(),!1},e}(),he=function(){function e(e){this.logger=e}return e.prototype.retrieveValidator=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:new Te(this.logger)});return l.a.startNew("RetrieveValidator",(function(t){switch(t.addProperty("ProfilerType",e),e){case o.Manual:return l.b.generateOperationResult({didOperationSucceed:!0,result:new pe(r.logger)});case o.Timed:return l.b.generateOperationResult({didOperationSucceed:!0,result:new fe(r.logger)});case o.Continuous:return l.b.generateOperationResult({didOperationSucceed:!0,result:new me(r.logger)});case o.FullSession:return l.b.generateOperationResult({didOperationSucceed:!0,result:new ge(r.logger)});default:return t.addLog("Missing validator implementation for profiler type"),l.b.generateOperationResult({didOperationSucceed:!1,result:new ge(r.logger),didOperationFailUnexpectedly:!0})}}),t,this.logger).getResult()},e}(),ve=function(){function e(e){this.logger=e,this.didProfilerInitOptionsGetFixed=!1,this.fixedProfilerInitOptions=void 0}return e.prototype.fixProfilerInitOptions=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("FixMaxBufferSize",(function(){return null==e?(r.logger.logNullOrUndefinedProfilerInitOptions(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0,didOperationFailUnexpectedly:!0})):(r.fixedProfilerInitOptions=e,null==r.fixedProfilerInitOptions.maximumNumberOfSamplesToTake&&(r.logger.logMaxBufferSizeFixedToDefaultSize(),r.fixedProfilerInitOptions.maximumNumberOfSamplesToTake=2e5),r.didProfilerInitOptionsGetFixed=!0,l.b.generateOperationResult({didOperationSucceed:!0,result:void 0}))}),t,this.logger)},e.prototype.retrieveFixedProfilerInitOptions=function(){return this.didProfilerInitOptionsGetFixed?this.didProfilerInitOptionsGetFixed=!1:this.logger.logMaxBufferSizeWasNotFixedBeforeRetrieval(),this.fixedProfilerInitOptions},e}(),Pe=function(){function e(e){this.logger=e,this.profilerInitOptionsToLoopBack=void 0}return e.prototype.fixProfilerInitOptions=function(e){this.logger.logLoopBackFixerFixProfilerInitOptionsInvoked(),null!=e&&(this.profilerInitOptionsToLoopBack=e)},e.prototype.retrieveFixedProfilerInitOptions=function(){return this.logger.logLoopBackFixerRetrieveFixedProfilerInitOptionsInvoked(),this.profilerInitOptionsToLoopBack},e}(),Se=function(){function e(e){this.logger=e}return e.prototype.getFixerForProfilerType=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:new Pe(this.logger)});return l.a.startNew("GetFixerForProfileType",(function(){r.logger.logFixerForProfilerType(e);var t=new Pe(r.logger),n=!1;switch(e){case o.Manual:case o.Timed:case o.Continuous:case o.FullSession:n=!0,t=new ve(r.logger);break;default:r.logger.logMissingProfilerInitOptionsFixerImplementation()}return l.b.generateOperationResult({didOperationSucceed:n,result:t})}),t,this.logger).getResult()},e}(),Ie=function(){function e(e){this.logger=e}return e.prototype.createProfiler=function(e,r){return this.logger.logNullJSCPUProfilerFactoryInvoked(),new i(this.logger)},e}(),be=function(){function e(e){var r=this;this.params=e,this.webWorkerOnCompleteCallback=function(e,t,o){0!==e.length?(r.logSerializedCallTrees(e),r.sendCallTrees(e,t,o)):r.params.logger.logNoCallTreesToSend()},this.webWorkerOnErrorCallback=function(e,t,o){r.useMainEventLoopForProfilerTraceProcessing(e.trace,t,o)},this.logSerializedCallTrees=function(e){e.forEach((function(e){r.params.logger.logSerializedCallTrees(e)}))},this.sendCallTrees=function(e,t,o){r.params.callTreesSender.sendCallTreesToService(e,r.params.deObfuscationInfo.deObfuscationEndpoint,o,t)}}return e.prototype.onProfilerStop=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("OnProfilerStop",(function(){var t=e.getProfilerProperties().profilingIntervalInMs;if(null!=t&&r.params.documentVisibilityChecker.wasDocumentHiddenDuringTimeRange(t)&&!r.params.shouldProcessProfileCapturedInAHiddenDocument)return r.params.logger.logNotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling(),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0});r.params.logger.logProfilerTrace(e);var o=r.params.customPropertiesExtractor.extractCustomProperties(r.params.deObfuscationRequestBodyPropertiesRetriever),n=r.params.customPropertiesExtractor.extractCustomProperties(r.params.deObfuscationRequestQueryParamsRetriever);return r.params.shouldProcessProfileInMainEventLoop?r.useMainEventLoopForProfilerTraceProcessing(e,o,n):r.useWebWorkForProfilerTraceProcessing(e,o,n),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.params.logger)},e.prototype.useMainEventLoopForProfilerTraceProcessing=function(e,r,t){var o=this;this.params.idleTimeJobScheduler.scheduleJobForIdleTime((function(){o.params.traceProcessor.processTrace(e);var n=o.params.traceProcessor.retrieveSerializedCallTrees();0!==n.length?(o.logSerializedCallTrees(n),o.sendCallTrees(n,r,t)):o.params.logger.logNoCallTreesToSend()}))},e.prototype.useWebWorkForProfilerTraceProcessing=function(e,r,t){var o=this,n=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("useWebWorkForProfilerTraceProcessing",(function(){if(!o.params.webWorkerAPIAvailabilityChecker.isWebWorkerAPIAvailable())return o.params.logger.logWebWorkerAPINotAvailable(),o.useMainEventLoopForProfilerTraceProcessing(e,r,t),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});if(o.profilerTraceProcessingWorker||(o.profilerTraceProcessingWorker=o.params.profilerTraceProcessingWorkerFactory.getProfilerTraceProcessingWorker()),!o.profilerTraceProcessingWorker.startWorker(o.params.webWorkerSourceURL))return o.useMainEventLoopForProfilerTraceProcessing(e,r,t),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});var n={trace:e,shouldKeepSamplesOutsideOfProfilingInterval:o.params.shouldKeepSamplesOutsideOfProfilingInterval,shouldRecordExpandedTimeStamps:o.params.shouldRecordExpandedTimeStamps,callTreeFilteringThresholdInMs:o.params.callTreeFilteringThresholdInMs,frameTotalExecutionTimeFilteringThresholdInMs:o.params.frameTotalExecutionTimeFilteringThresholdInMs};return o.profilerTraceProcessingWorker.onTraceProcessingComplete(o.webWorkerOnCompleteCallback),o.profilerTraceProcessingWorker.onError(o.webWorkerOnErrorCallback),o.profilerTraceProcessingWorker.processTrace(n),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),n,this.params.logger)},e}(),ye=function(){function e(e,r,t,o,n,i,s){this.traceToCallTreesConverter=e,this.callTreesMerger=r,this.callTreesFilterer=t,this.callTreeFilteringThresholdInMs=o,this.callTreesFramesFilterer=n,this.frameTotalExecutionTimeFilteringThresholdInMs=i,this.logger=s,this.transformCalledBeforeRetrieveCallTrees=!1,this.profilerTrace=void 0,this.callTreesToReturn=[]}return e.prototype.transform=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("TransformProfilerTrace",(function(t){r.profilerTrace=e,r.traceToCallTreesConverter.buildCallTrees(r.profilerTrace);var o=r.traceToCallTreesConverter.retrieveBuiltCallTrees();t.addProperty("BuiltCallTreesCount",o.length),r.callTreesMerger.mergeCallTrees(o);var n=r.callTreesMerger.retrieveMergedCallTrees();t.addProperty("MergedCallTreesCount",n.length),r.callTreesFilterer.filterCallTrees(n,r.callTreeFilteringThresholdInMs);var i=r.callTreesFilterer.retrieveFilteredCallTrees();return t.addProperty("FilteredCallTreesCount",i.length),r.callTreesToReturn=i,r.callTreesFramesFilterer.filterCallTrees(i,r.frameTotalExecutionTimeFilteringThresholdInMs),t.addProperty("FrameFilteredCallTreesCount",r.callTreesToReturn.length),r.transformCalledBeforeRetrieveCallTrees=!0,l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e.prototype.retrieveCallTrees=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:[]});return l.a.startNew("RetrieveCallTrees",(function(){return e.transformCalledBeforeRetrieveCallTrees?(e.transformCalledBeforeRetrieveCallTrees=!1,l.b.generateOperationResult({didOperationSucceed:!0,result:e.callTreesToReturn})):(e.logger.logRetrieveCallTreesCalledBeforeTransform(),l.b.generateOperationResult({didOperationSucceed:!1,result:[]}))}),r,this.logger).getResult()},e}(),Ce=function(){function e(e,r,t){this.stacksBuilder=e,this.stacksToCallTreesConverter=r,this.logger=t,this.didBuildCallTreesGetCalledBeforeRetrieve=!1,this.callTrees=[]}return e.prototype.buildCallTrees=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("BuildCallTrees",(function(){r.didBuildCallTreesGetCalledBeforeRetrieve=!0,r.stacksBuilder.buildStacks(e);var t=r.stacksBuilder.retrieveStacks(),o=e.getCustomProperties();return r.stacksToCallTreesConverter.convertStacksToCallTrees(o,t),r.callTrees=r.stacksToCallTreesConverter.retrieveConvertedCallTrees(),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e.prototype.retrieveBuiltCallTrees=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:[]});return l.a.startNew("RetrieveBuiltCallTrees",(function(){return e.didBuildCallTreesGetCalledBeforeRetrieve?(e.didBuildCallTreesGetCalledBeforeRetrieve=!1,l.b.generateOperationResult({didOperationSucceed:!0,result:e.callTrees})):(e.logger.logRetrieveBuiltCallTreesBeforeBuildCallTrees(),l.b.generateOperationResult({didOperationSucceed:!1,result:[]}))}),r,this.logger).getResult()},e}(),ke=function(){function e(){}return e.prototype.peek=function(){},e.prototype.pop=function(){},e}(),Oe=function(){function e(){this.profilerFrames=[]}return e.prototype.peek=function(){var e=this.profilerFrames.length;if(0!==e)return this.profilerFrames[e-1]},e.prototype.pop=function(){this.profilerFrames.pop()},e.prototype.push=function(e){this.profilerFrames.push(e)},e}(),Me=function(){function e(e,r,t,o,n,i,s,a){this.profilerFrame=e,this.startTime=r,this.totalExecutionTime=t,this.lastObservedTimestamp=o,this.resourceName=n,this.shouldRecordExpandedTimeStamps=i,this.parentNode=s,this.logger=a,this.childrenNodes=[],r<0&&this.logger.logInvalidFrameNodeStartTime(),t<0&&this.logger.logInvalidFrameNodeExecutionTime()}return e.prototype.addChildNode=function(e){this.childrenNodes.push(e),e.setParentNode(this)},e.prototype.getFrameOnlyExecutionTimeInMs=function(){var e=this.getSubTreeExecutionTimeInMs();return this.shouldRecordExpandedTimeStamps?this.totalExecutionTime-e:this.trimTimeStamp(this.totalExecutionTime-e)},e.prototype.getSubTreeExecutionTimeInMs=function(){var e=0;return this.childrenNodes.forEach((function(r){e+=r.getTotalExecutionTimeInMs()})),e<0&&this.logger.logNegativeSubTreeExecutionTime(),e},e.prototype.getTotalExecutionTimeInMs=function(){return this.shouldRecordExpandedTimeStamps?this.totalExecutionTime:this.trimTimeStamp(this.totalExecutionTime)},e.prototype.getFrame=function(){return this.profilerFrame},e.prototype.getChildrenNodes=function(){return this.childrenNodes},e.prototype.removeChildNode=function(e){e.setParentNode(void 0),this.childrenNodes=this.childrenNodes.filter((function(r){return r!==e}))},e.prototype.getStartTimeInMs=function(){return this.shouldRecordExpandedTimeStamps?this.startTime:this.trimTimeStamp(this.startTime)},e.prototype.getLastObservedTimestamp=function(){return this.shouldRecordExpandedTimeStamps?this.lastObservedTimestamp:this.trimTimeStamp(this.lastObservedTimestamp)},e.prototype.getResourceName=function(){return this.resourceName},e.prototype.getParentNode=function(){return this.parentNode},e.prototype.setParentNode=function(e){this.parentNode=e},e.prototype.setTotalExecutionTime=function(e){e<0&&this.logger.logInvalidNewFrameNodeExecutionTime(),this.totalExecutionTime=e},e.prototype.setLastObservedTimestamp=function(e){this.lastObservedTimestamp=e},e.prototype.trimTimeStamp=function(e){return Number.parseFloat(e.toFixed(2))},e}(),xe=function(){function e(e){this.logger=e}return e.prototype.peek=function(){this.logger.logPeekOnNullExecutionStackInvoked()},e.prototype.pop=function(){this.logger.logPopOnNullExecutionStackInvoked()},e}(),Ne=function(){function e(e,r,t){this.profilerTrace=e,this.logger=r,this.shouldRecordExpandedTimeStamps=t,this.buildStackCalled=!1,this.builtStack=void 0}return e.prototype.buildStack=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("BuildStack",(function(t){if(r.buildStackCalled=!0,null==e.stackId){r.builtStack=new ke;return t.addProperty("EmptyStackBuilt",!0),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}var o=r.profilerTrace.getStacks();if(0===o.length)return r.logger.logEmptyStacks(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});var n=r.profilerTrace.getFrames();if(0===n.length)return r.logger.logEmptyFrames(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});for(var i=new Oe,s=e.stackId,a=0,c=!1,u=[];;){if(a>o.length){r.logger.logForciblyExitingLoopWhileBuildingStack(),c=!0;break}a+=1;var d=o[s],g=n[d.frameId];if(u.unshift(g),null==d.parentId)break;s=d.parentId}var p=e.timestamp,f=p,m=r.profilerTrace.getResources();return u.forEach((function(e){var t=new Me(e,p,0,f,m[e.resourceId],r.shouldRecordExpandedTimeStamps,void 0,r.logger);i.push(t)})),c?l.b.generateOperationResult({didOperationSucceed:!1,didOperationFailUnexpectedly:!0,result:void 0}):(r.builtStack=i,l.b.generateOperationResult({didOperationSucceed:!0,result:void 0}))}),t,this.logger)},e.prototype.retrieveStack=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:new xe(this.logger)});return l.a.startNew("RetrieveStack",(function(){return e.buildStackCalled?void 0===e.builtStack?(e.logger.logExecutionStackNeverBuilt(),l.b.generateOperationResult({didOperationSucceed:!1,didOperationFailUnexpectedly:!0,result:new xe(e.logger)})):(e.buildStackCalled=!1,l.b.generateOperationResult({didOperationSucceed:!0,result:e.builtStack})):(e.logger.logRetrieveStackCalledBeforeBuildStack(),l.b.generateOperationResult({didOperationSucceed:!1,result:new xe(e.logger)}))}),r,this.logger).getResult()},e}(),Fe=function(){function e(e,r,t,o,n){this.sampleSorter=e,this.sampleFilterer=r,this.shouldKeepSamplesOutsideOfProfilingInterval=t,this.shouldRecordExpandedTimeStamps=o,this.logger=n,this.buildStacksCalled=!1,this.builtExecutionStacks=void 0}return e.prototype.buildStacks=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("BuildStacks",(function(){r.buildStacksCalled=!0;var t=e.getSamples(),o=r.sampleSorter.sortSamples(t),n=e.getProfilerProperties().profilingIntervalInMs;return null==n||r.shouldKeepSamplesOutsideOfProfilingInterval||(r.sampleFilterer.filterSamples(o,n),o=r.sampleFilterer.retrieveFilteredSamples()),r.builtExecutionStacks=r.samplesToStacks(o,e),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e.prototype.retrieveStacks=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:[]});return l.a.startNew("RetrieveStacks",(function(){return e.buildStacksCalled?void 0===e.builtExecutionStacks?l.b.generateOperationResult({didOperationSucceed:!1,didOperationFailUnexpectedly:!0,result:[]}):(e.buildStacksCalled=!1,l.b.generateOperationResult({didOperationSucceed:!0,result:e.builtExecutionStacks})):(e.logger.logRetrieveStacksCalledBeforeBuildStacks(),l.b.generateOperationResult({didOperationSucceed:!1,result:[]}))}),r,this.logger).getResult()},e.prototype.samplesToStacks=function(e,r){var t=this,o=l.b.generateOperationResult({didOperationSucceed:!1,result:[]});return l.a.startNew("ConvertSamplesToStacks",(function(){var o=[],n=new Ne(r,t.logger,t.shouldRecordExpandedTimeStamps);return e.forEach((function(e){n.buildStack(e),o.push(n.retrieveStack())})),l.b.generateOperationResult({didOperationSucceed:!0,result:o})}),o,this.logger).getResult()},e}(),we=function(){function e(e){var r=this;this.logger=e,this.sortSampleByTimestamp=function(e,t){var o=l.b.generateOperationResult({didOperationSucceed:!1,result:0});return l.a.startNew("CustomSampleSort",(function(){return e.timestamp>t.timestamp?l.b.generateOperationResult({didOperationSucceed:!0,result:1}):t.timestamp>e.timestamp?l.b.generateOperationResult({didOperationSucceed:!0,result:-1}):l.b.generateOperationResult({didOperationSucceed:!0,result:0})}),o,r.logger).getResult()}}return e.prototype.sortSamples=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:[]});return l.a.startNew("SortSamples",(function(){var t=e.sort(r.sortSampleByTimestamp);return l.b.generateOperationResult({didOperationSucceed:!0,result:t})}),t,this.logger).getResult()},e}(),Re=function(){function e(e){this.logger=e,this.logger.logNullFrameNodeCreated()}return e.prototype.removeChildNode=function(e){},e.prototype.addChildNode=function(e){},e.prototype.getFrameOnlyExecutionTimeInMs=function(){return-1},e.prototype.getSubTreeExecutionTimeInMs=function(){return-1},e.prototype.getTotalExecutionTimeInMs=function(){return-1},e.prototype.getFrame=function(){return G},e.prototype.getChildrenNodes=function(){return[]},e.prototype.getStartTimeInMs=function(){return-1},e.prototype.getLastObservedTimestamp=function(){return-1},e.prototype.getResourceName=function(){return"InvalidResourceName"},e.prototype.getParentNode=function(){},e.prototype.setParentNode=function(e){},e.prototype.setTotalExecutionTime=function(e){},e.prototype.setLastObservedTimestamp=function(e){},e}(),We=function(){function e(e){this.logger=e}return e.prototype.getNext=function(){return this.logger.logNullCallTreeIteratorImplGetNextInvoked(),new Re(this.logger)},e.prototype.hasMore=function(){return this.logger.logNullCallTreeIteratorImplHasMoreInvoked(),!1},e}(),_e=function(){function e(e){this.logger=e}return e.prototype.filterFrames=function(){this.logger.logNullCallTreeFramesFiltererFilterFramesInvoked()},e.prototype.retrieveFrameFilteredCallTree=function(){return this.logger.logNullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked(),new Ee(this.logger)},e}(),Ee=function(){function e(e){this.logger=e}return e.prototype.getDepthFirstIterator=function(){return this.logger.logNullCallTreeDepthFirstIteratorInvoked(),new We(this.logger)},e.prototype.getNodesToMergeIterator=function(){return this.logger.logNullCallTreeLeftMostNodesIteratorInvoked(),new We(this.logger)},e.prototype.getRightMostNodesIterator=function(){return this.logger.logNullCallTreeRightMostNodesIteratorInvoked(),new We(this.logger)},e.prototype.getTotalExecutionTimeInMs=function(){return this.logger.logNullCallTreeGetTotalExecutionTimeInvoked(),-1},e.prototype.getCustomProperties=function(){return this.logger.logNullCallTreeGetCustomPropertiesInvoked(),{}},e.prototype.getTreeId=function(){return Z},e.prototype.getFramesFilterer=function(){return this.logger.logNullCallTreeGetFramesFiltererInvoked(),new _e(this.logger)},e}();function Le(e,r){return e.name===r.name&&e.resourceId===r.resourceId&&e.line===r.line&&e.column===r.column}var Ue=function(){function e(){}return e.prototype.removeChildNode=function(e){},e.prototype.addChildNode=function(e){},e.prototype.getFrameOnlyExecutionTimeInMs=function(){return-1},e.prototype.getSubTreeExecutionTimeInMs=function(){return-1},e.prototype.getTotalExecutionTimeInMs=function(){return 0},e.prototype.getFrame=function(){return G},e.prototype.getChildrenNodes=function(){return[]},e.prototype.getStartTimeInMs=function(){return-1},e.prototype.getLastObservedTimestamp=function(){return-1},e.prototype.getResourceName=function(){return"InvalidResourceName"},e.prototype.getParentNode=function(){return this.parentNode},e.prototype.setParentNode=function(e){this.parentNode=e},e.prototype.setTotalExecutionTime=function(e){},e.prototype.setLastObservedTimestamp=function(e){},e}(),Be=function(){function e(e){this.nodesToIterate=L.createStack(),e instanceof Ue||this.nodesToIterate.push(e)}return e.prototype.getNext=function(){var e=this.nodesToIterate.peek();if(void 0!==e){this.nodesToIterate.pop();for(var r=e.getChildrenNodes(),t=r.length-1;t>=0;t-=1){Le(r[t].getFrame(),G)||this.nodesToIterate.push(r[t])}return e}},e.prototype.hasMore=function(){return 0!==this.nodesToIterate.count()},e}(),Ae=function(){function e(e,r){this.logger=r,this.nodesToIterate=R.createQueue(),this.nodesToIterate.queue(e)}return e.prototype.getNext=function(){var e=this.nodesToIterate.peek();if(void 0!==e){var r=e.getChildrenNodes();return r.length>1&&this.logger.logExpectedOnlyOneNodePerLevelInCallTree(),this.nodesToIterate.queue(r[0]),this.nodesToIterate.dequeue(),e}},e.prototype.hasMore=function(){return void 0!==this.nodesToIterate.peek()},e}(),Je=function(){function e(e){this.nodesToIterate=R.createQueue(),this.nodesToIterate.queue(e)}return e.prototype.getNext=function(){var e=this.nodesToIterate.peek();if(void 0!==e){var r=e.getChildrenNodes();return r.length>0&&this.nodesToIterate.queue(r[r.length-1]),this.nodesToIterate.dequeue(),e}},e.prototype.hasMore=function(){return void 0!==this.nodesToIterate.peek()},e}(),De=function(){function e(e,r){this.callTree=e,this.logger=r}return e.prototype.filterFrames=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});return l.a.startNew("FilterCallTreeFrames",(function(){for(var t=r.callTree.getDepthFirstIterator(),o=void 0;t.hasMore();)void 0!==(o=t.getNext())&&r.filterFrame(o,e);return l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger).getResult()},e.prototype.filterFrame=function(e,r){if(e.getTotalExecutionTimeInMs()<=r){var t=e.getParentNode();if(!t)return void this.logger.logFilterFrameWithNoParent();t.removeChildNode(e)}},e}(),Ve=function(){function e(e,r,t,o){this.rootNode=e,this.customProperties=r,this.callTreeId=t,this.logger=o,this.fallbackResult=l.b.generateOperationResult({didOperationSucceed:!1,result:new We(this.logger)})}return e.prototype.getDepthFirstIterator=function(){var e=this;return l.a.startNew("GetDepthFirstIterator",(function(){return l.b.generateOperationResult({didOperationSucceed:!0,result:new Be(e.rootNode)})}),this.fallbackResult,this.logger).getResult()},e.prototype.getNodesToMergeIterator=function(){var e=this;return l.a.startNew("GetCallTreeLeftMostNodesIterator",(function(){return l.b.generateOperationResult({didOperationSucceed:!0,result:new Ae(e.rootNode,e.logger)})}),this.fallbackResult,this.logger).getResult()},e.prototype.getRightMostNodesIterator=function(){var e=this;return l.a.startNew("GetCallTreeRightMostNodesIterator",(function(){return l.b.generateOperationResult({didOperationSucceed:!0,result:new Je(e.rootNode)})}),this.fallbackResult,this.logger).getResult()},e.prototype.getTotalExecutionTimeInMs=function(){return this.rootNode.getTotalExecutionTimeInMs()},e.prototype.getCustomProperties=function(){return this.customProperties},e.prototype.getTreeId=function(){return this.callTreeId},e.prototype.getFramesFilterer=function(){return new De(this,this.logger)},e}(),je=function(){function e(){}return e.prototype.filterFrames=function(){},e.prototype.retrieveFrameFilteredCallTree=function(){return new qe},e}(),ze=function(){function e(){}return e.prototype.getNext=function(){},e.prototype.hasMore=function(){return!1},e}(),qe=function(){function e(){}return e.prototype.getDepthFirstIterator=function(){return new ze},e.prototype.getNodesToMergeIterator=function(){return new ze},e.prototype.getRightMostNodesIterator=function(){return new ze},e.prototype.getTotalExecutionTimeInMs=function(){return-1},e.prototype.getCustomProperties=function(){return{}},e.prototype.getTreeId=function(){return Z},e.prototype.getFramesFilterer=function(e){return new je},e}(),Ge=function(){function e(e,r){this.customProperties=e,this.logger=r,this.isConvertCalled=!1,this.convertedCallTree=new Ee(this.logger)}return e.prototype.convertStackToCallTree=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("ConvertStackToCallTree",(function(){return r.convertedCallTree=r.buildCallTree(e),r.isConvertCalled=!0,l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e.prototype.retrieveCallTree=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:new Ee(this.logger)});return l.a.startNew("RetrieveCallTree",(function(){return e.isConvertCalled?(e.isConvertCalled=!1,l.b.generateOperationResult({didOperationSucceed:!0,result:e.convertedCallTree})):(e.logger.logConvertStackToCallTreeNeverCalled(),l.b.generateOperationResult({didOperationSucceed:!1,result:new Ee(e.logger)}))}),r,this.logger).getResult()},e.prototype.buildCallTree=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:new Ee(this.logger)});return l.a.startNew("BuildCallTree",(function(t){for(var o=[];;){var n=e.peek();if(void 0===n)break;o.unshift(n),e.pop()}if(0===o.length)return t.addLog("No profiler frames were extracted. Returning null call tree"),l.b.generateOperationResult({didOperationSucceed:!0,result:new qe});var i=0;o.forEach((function(e,r){if((i=r+1)!==o.length){var t=o[i];e.addChildNode(t)}}));var s=o[0],a=J.getGuidGenerator().generateGuid();return l.b.generateOperationResult({didOperationSucceed:!0,result:new Ve(s,r.customProperties,a,r.logger)})}),t,this.logger).getResult()},e}(),He=function(){function e(e){this.logger=e,this.convertStacksCalled=!1,this.callTrees=[],this.customProperties={}}return e.prototype.convertStacksToCallTrees=function(e,r){var t=this,o=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("ConvertStacksToCallTrees",(function(){return t.convertStacksCalled=!0,t.customProperties=e,t.callTrees=t.convertToCallTrees(r),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),o,this.logger)},e.prototype.retrieveConvertedCallTrees=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:[]});return l.a.startNew("RetrieveConvertedCallTrees",(function(){return e.convertStacksCalled?(e.convertStacksCalled=!1,l.b.generateOperationResult({didOperationSucceed:!0,result:e.callTrees})):(e.logger.logConvertStacksToCallTreesNeverCalled(),l.b.generateOperationResult({didOperationSucceed:!1,result:[]}))}),r,this.logger).getResult()},e.prototype.convertToCallTrees=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:[]});return l.a.startNew("ConvertToCallTrees",(function(){var t=[],o=new Ge(r.customProperties,r.logger);return e.forEach((function(e){o.convertStackToCallTree(e),t.push(o.retrieveCallTree())})),l.b.generateOperationResult({didOperationSucceed:!0,result:t})}),t,this.logger).getResult()},e}();function Ze(e,r,t){var o=l.b.generateOperationResult({didOperationSucceed:!1,result:{wasMergeSuccessful:!1,mergedCallTree:e}});return l.a.startNew("MergeTwoTrees",(function(t){var o=e.getRightMostNodesIterator(),n=r.getNodesToMergeIterator();if(!o.hasMore()||!n.hasMore()){t.addProperty("CurrentCallTreeIteratorEmptyProperty",!o.hasMore());return t.addProperty("CallTreeToMergeIteratorEmptyProperty",!n.hasMore()),l.b.generateOperationResult({didOperationSucceed:!0,result:{mergedCallTree:e,wasMergeSuccessful:!1}})}for(var i=0,s=void 0,a=void 0,c=void 0;o.hasMore()&&n.hasMore()&&(s=o.getNext(),a=n.getNext(),void 0!==s&&void 0!==a&&Le(s.getFrame(),a.getFrame()));){var u=s.getTotalExecutionTimeInMs()+(a.getLastObservedTimestamp()-s.getLastObservedTimestamp());s.setTotalExecutionTime(u),s.setLastObservedTimestamp(a.getLastObservedTimestamp()),c=s,i+=1}if(t.addProperty("MergeLength",i),0===i){return t.addProperty("UnableToMerge",!0),l.b.generateOperationResult({didOperationSucceed:!0,result:{wasMergeSuccessful:!1,mergedCallTree:e}})}if(void 0===s&&void 0===a){return t.addProperty("FullMerge",!0),l.b.generateOperationResult({didOperationSucceed:!0,result:{wasMergeSuccessful:!0,mergedCallTree:e}})}if(o.hasMore()&&!n.hasMore()&&void 0!==c){return t.addProperty("TallerLeftCallTree",!0),c.addChildNode(new Ue),l.b.generateOperationResult({didOperationSucceed:!0,result:{wasMergeSuccessful:!0,mergedCallTree:e}})}var d=void 0!==s&&void 0!==a&&!Le(s.getFrame(),a.getFrame())&&void 0!==c,g=!o.hasMore()&&n.hasMore()&&void 0!==c;if(d||g){if(d){t.addProperty("PartialMergeOfHeightBalancedCallTrees",!0)}if(g){t.addProperty("TallerRightCallTreeMerge",!0),a=n.getNext()}void 0!==c&&void 0!==a&&c.addChildNode(a)}return l.b.generateOperationResult({didOperationSucceed:!0,result:{wasMergeSuccessful:i>0,mergedCallTree:e}})}),o,t).getResult()}var Ke,Qe=function(){function e(e){this.logger=e,this.mergedCallTrees=[],this.didMergeCallTreesGetCalled=!1}return e.prototype.mergeCallTrees=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("MergeCallTrees",(function(){if(e.length<2)return r.mergedCallTrees=e,l.b.generateOperationResult({didOperationSucceed:!0,result:void 0});r.didMergeCallTreesGetCalled=!0,r.mergedCallTrees=[];for(var t=0,o=1,n=!1;o<e.length;){var i=e[t];(n=Ze(i,e[o],r.logger).wasMergeSuccessful)||(r.mergedCallTrees.push(i),t=o),o+=1}return n?r.mergedCallTrees.push(e[t]):r.mergedCallTrees.push(e[o-1]),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e.prototype.retrieveMergedCallTrees=function(){return this.didMergeCallTreesGetCalled?(this.didMergeCallTreesGetCalled=!1,this.mergedCallTrees):[]},e}(),Xe=function(){function e(e){this.logger=e,this.filteredCallTreesToReturn=[],this.filterCallTreesCalled=!1}return e.prototype.filterCallTrees=function(e,r){var t=this,o=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});return l.a.startNew("FilterCallTrees",(function(){return t.filterCallTreesCalled=!0,t.filteredCallTreesToReturn=[],e.forEach((function(e){e.getTotalExecutionTimeInMs()>r&&t.filteredCallTreesToReturn.push(e)})),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),o,this.logger).getResult()},e.prototype.retrieveFilteredCallTrees=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:[]});return l.a.startNew("RetrieveFilteredCallTrees",(function(){return e.filterCallTreesCalled?(e.filterCallTreesCalled=!1,l.b.generateOperationResult({didOperationSucceed:!0,result:e.filteredCallTreesToReturn})):l.b.generateOperationResult({didOperationSucceed:!1,result:[]})}),r,this.logger).getResult()},e}(),Ye=function(){function e(e){this.logger=e,this.didFilterSamplesGetCalled=!1,this.filteredSamples=[]}return e.prototype.filterSamples=function(e,r){var t=this,o=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("FilterSamples",(function(){if(t.didFilterSamplesGetCalled=!0,t.filteredSamples=[],0===e.length)return t.logger.logEmptySamplesArrayPassedToFilter(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});for(var o=e[0],n=0,i=e;n<i.length;n++){var s=i[n];if(s.timestamp-o.timestamp>r)break;t.filteredSamples.push(s)}return l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),o,this.logger)},e.prototype.retrieveFilteredSamples=function(){return this.didFilterSamplesGetCalled?(this.didFilterSamplesGetCalled=!1,this.filteredSamples):[]},e}(),$e=function(){function e(e){this.logger=e,this.serializedCallTree=""}return e.prototype.serializeCallTree=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("SeriallizeCallTree",(function(){r.serializedCallTree="";for(var t={serializedFrames:[],totalExecutionTimeForTreeInMs:0,propertyBag:{}},o=e.getDepthFirstIterator(),n=void 0;o.hasMore();)void 0!==(n=o.getNext())&&t.serializedFrames.push(r.onVisit(n));return t.totalExecutionTimeForTreeInMs=e.getTotalExecutionTimeInMs(),t.propertyBag=e.getCustomProperties(),r.serializedCallTree=JSON.stringify(t),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e.prototype.onVisit=function(e){var r=l.b.generateOperationResult({didOperationSucceed:!1,result:H});return l.a.startNew("VisitNodeInCallTree",(function(){var r=e.getFrame().name;void 0===r&&(r="");var t={obfuscatedName:r,startTimeInMs:e.getStartTimeInMs(),frameOnlyRunTimeInMs:e.getFrameOnlyExecutionTimeInMs(),subTreeRunTimeInMs:e.getSubTreeExecutionTimeInMs(),totalExecutionTimeInMs:e.getTotalExecutionTimeInMs(),hasChildrenNodes:e.getChildrenNodes().length>0,resourceInfo:{resourceName:e.getResourceName(),lineNo:e.getFrame().line,columnNo:e.getFrame().column}};return l.b.generateOperationResult({didOperationSucceed:!0,result:t})}),r,this.logger).getResult()},e.prototype.retrieveSerializedTree=function(){return this.serializedCallTree},e}(),er=function(){function e(e){this.logger=e,this.serializedCallTrees=[]}return e.prototype.serializeCallTrees=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("SerializeCallTreesArray",(function(){var t=new $e(r.logger);return e.forEach((function(e){t.serializeCallTree(e),r.serializedCallTrees.push(t.retrieveSerializedTree())})),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e.prototype.retrieveSerializedTrees=function(){return this.serializedCallTrees},e}(),rr=function(){function e(e,r){this.profilerTraceTransformer=e,this.serializer=r,this.serializedCallTrees=[]}return e.prototype.processTrace=function(e){this.profilerTraceTransformer.transform(e);var r=this.profilerTraceTransformer.retrieveCallTrees();this.serializer.serializeCallTrees(r),this.serializedCallTrees=this.serializer.retrieveSerializedTrees()},e.prototype.retrieveSerializedCallTrees=function(){return this.serializedCallTrees},e}(),tr=function(){function e(e){this.windowPropertyChecker=e}return e.prototype.isWebWorkerAPIAvailable=function(){return!!this.windowPropertyChecker.hasProperty("Worker")},e}();!function(e){e[e.ProcessTrace=0]="ProcessTrace",e[e.Log=1]="Log",e[e.TraceProcessingComplete=2]="TraceProcessingComplete",e[e.ErrorEncounteredInWorker=3]="ErrorEncounteredInWorker",e[e.UpdateWorkerJSCPUProfilingPackageInitOptions=4]="UpdateWorkerJSCPUProfilingPackageInitOptions"}(Ke||(Ke={}));var or=function(){function e(e,r,t){var o=this;this.jsCPUProfilingPackageInitOptions=e,this.logMessageProcessor=r,this.logger=t,this.errorHandler=function(e){var r=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("ProfilerTraceProcessingWorkerImplErrorHandler",(function(){if(o.logger.logWebWorkerError(e.message),null==o.errorCallback)return o.logger.logWebWorkerErrorCallbackNotRegistered(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});if(null==o.traceProcessingInfo)return o.logger.logWebWorkerTraceProcessingInfoMissingToReturnOnError(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});var r=o.getDeObfuscationRequestPropertiesAndQueryParams(),t=r[0],n=r[1];return o.errorCallback(o.traceProcessingInfo,t,n),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r,o.logger)},this.onMessageReceived=function(e){var r=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("OnMessageReceivedFromWorker",(function(r){var t=e.data;if(!("id"in t))return o.logger.logIdNotFoundInMessageFromWorker(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});if(!("data"in t))return o.logger.logDataNotFoundInMessageFromWorker(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});switch(r.addProperty("MessageReceived",t.id),t.id){case Ke.Log:if(!("id"in(u=t.data)))return o.logger.logIdNotFoundInWorkerLogMessage(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});if(!("message"in u))return o.logger.logMessageNotFoundInWorkerLogMessage(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});var n=u;o.handleLogMessageFromWorker(n);break;case Ke.TraceProcessingComplete:if(!("serializedCallTrees"in(u=t.data)))return o.logger.logSerializedCallTreesMissingInProcessorResult(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});if(!("logs"in u))return o.logger.logLogsMissingInProcessorResult(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});var i=u;if(void 0===o.completionCallback)return o.logger.logUndefinedWebWorkerCompletionCallback(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});i.logs.forEach((function(e){o.handleLogMessageFromWorker(e)}));var s=o.getDeObfuscationRequestPropertiesAndQueryParams(),a=s[0],c=s[1];o.completionCallback(i.serializedCallTrees,a,c);break;case Ke.ErrorEncounteredInWorker:var u;if(!("logs"in(u=t.data)))return o.logger.logLogsMissingInErrorsFromWebWorker(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});if(u.logs.forEach((function(e){o.handleLogMessageFromWorker(e)})),void 0===o.errorCallback)return o.logger.logUndefinedErrorCallback(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});if(void 0===o.traceProcessingInfo)return o.logger.logUndefinedTraceProcessingInfoToReturnBack(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});var d=o.getDeObfuscationRequestPropertiesAndQueryParams();a=d[0],c=d[1];o.errorCallback(o.traceProcessingInfo,a,c),o.terminateWorker();break;default:o.logger.logUnknownMessageFromWorker(t.id)}return l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r,o.logger)},this.worker=void 0,this.completionCallback=void 0,this.errorCallback=void 0,this.traceProcessingInfo=void 0,this.workerStarted=!1}return e.prototype.startWorker=function(e){if(this.workerStarted)return this.logger.logWebWorkerAlreadyStarted(),!0;var r=new Blob(["importScripts('"+encodeURI(e)+"');"],{type:"application/javascript"}),t=new Worker(URL.createObjectURL(r));return t?(this.worker=t,this.workerStarted=!0,this.worker.addEventListener("message",this.onMessageReceived),this.worker.onerror=this.errorHandler,this.initWorker(),!0):(this.logger.logUnableToBootWebWorker(),!1)},e.prototype.initWorker=function(){if(this.worker){var e={id:Ke.UpdateWorkerJSCPUProfilingPackageInitOptions,data:this.jsCPUProfilingPackageInitOptions};this.worker.postMessage(e)}else this.logger.logWorkerInstanceNotFound()},e.prototype.processTrace=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("ProfilerTraceProcessingWorkerImplProcessTrace",(function(){if(!r.worker)return r.logger.logWorkerInstanceNotFound(),l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});r.traceProcessingInfo=e;var t={id:Ke.ProcessTrace,data:e};return r.worker.postMessage(t),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e.prototype.onTraceProcessingComplete=function(e){var r=this,t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("ProfilerTraceProcessingWorkerImplOnTraceProcessingComplete",(function(){return r.completionCallback=e,l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger)},e.prototype.onError=function(e){this.errorCallback=e},e.prototype.terminateWorker=function(){this.worker?(this.worker.terminate(),this.worker=void 0,this.workerStarted=!1):this.logger.logWorkerInstanceNotFound()},e.prototype.handleLogMessageFromWorker=function(e){this.logMessageProcessor.processLogMessage(e)},e.prototype.getDeObfuscationRequestPropertiesAndQueryParams=function(){var e=new te(this.logger);return[e.extractCustomProperties(this.jsCPUProfilingPackageInitOptions.deObfuscationRequestBodyPropertiesRetriever),e.extractCustomProperties(this.jsCPUProfilingPackageInitOptions.deObfuscationRequestQueryParamsRetriever)]},e}(),nr=function(){function e(e,r,t){this.jsCPUProfilingPackageInitOptions=e,this.logMessageProcessor=r,this.logger=t}return e.prototype.getProfilerTraceProcessingWorker=function(){return new or(this.jsCPUProfilingPackageInitOptions,this.logMessageProcessor,this.logger)},e}(),ir=function(){function e(e,r,t,o){this.sendBeaconScheduler=e,this.xmlHTTPRequestWrapperFactory=r,this.shouldUseSendBeaconForSendingCallTrees=t,this.logger=o}return e.prototype.sendCallTreeToService=function(e,r,t){var o=this,n=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("SendIndividualCallTree",(function(){var n={serializedCallTree:e,propertyBag:t},i=JSON.stringify(n);if(o.shouldUseSendBeaconForSendingCallTrees)o.sendBeaconScheduler.sendBeacon({url:r,data:i});else{var s=o.xmlHTTPRequestWrapperFactory.generateXMLHTTPRequestWrapper();s.open("POST",r,!0),s.send(i)}return l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),n,this.logger)},e}(),sr=function(){function e(e,r,t,o){this.sendBeaconScheduler=e,this.xmlHTTPRequestWrapperFactory=r,this.shouldUseSendBeaconForSendingCallTrees=t,this.logger=o}return e.prototype.sendCallTrees=function(e,r,t){var o=this,n=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("SendMultipleCallTrees",(function(){var n={serializedCallTrees:e,propertyBag:t},i=JSON.stringify(n);if(o.shouldUseSendBeaconForSendingCallTrees)o.sendBeaconScheduler.sendBeacon({url:r,data:i});else{var s=o.xmlHTTPRequestWrapperFactory.generateXMLHTTPRequestWrapper();s.open("POST",r,!0),s.send(i)}return l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),n,this.logger)},e}();var ar,lr=function(){function e(e,r,t,o,n){this.sendBeaconScheduler=e,this.shouldSendAllCallTreesFromProfileInASingleRequest=r,this.xmlHTTPRequestWrapperFactory=t,this.shouldUseSendBeaconForSendingCallTrees=o,this.logger=n}return e.prototype.sendCallTreesToService=function(e,r,t,o){var n=this,i=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});l.a.startNew("SendCallTrees",(function(){var i,s,a=(i=t,s=r,Object.entries(i).forEach((function(e,r){0===r?s.includes("?")?s+="&":s+="?":s+="&";var t=e[0],o=e[1];s+=t+"="+o})),s);return n.shouldSendAllCallTreesFromProfileInASingleRequest?n.sendAllCallTreesInASingleRequest(e,a,o):n.sendCallTreesIndividually(e,a,o),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),i,this.logger)},e.prototype.sendCallTreesIndividually=function(e,r,t){var o=new ir(this.sendBeaconScheduler,this.xmlHTTPRequestWrapperFactory,this.shouldUseSendBeaconForSendingCallTrees,this.logger);e.forEach((function(e){o.sendCallTreeToService(e,r,t)}))},e.prototype.sendAllCallTreesInASingleRequest=function(e,r,t){new sr(this.sendBeaconScheduler,this.xmlHTTPRequestWrapperFactory,this.shouldUseSendBeaconForSendingCallTrees,this.logger).sendCallTrees(e,r,t)},e}(),cr=function(){function e(e){this.logger=e}return e.prototype.filterCallTrees=function(e,r){var t=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});return l.a.startNew("FilterCallTreesFrames",(function(){return e.forEach((function(e){e.getFramesFilterer(r).filterFrames(r)})),l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),t,this.logger).getResult()},e}(),ur=function(){function e(e,r,t,o){this.featureChecker=e,this.jsCPUProfilingPackageInitOptions=r,this.logMessageProcessor=t,this.logger=o}return e.prototype.retrieveProfilerFactory=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!0,result:new Ie(this.logger)});return l.a.startNew("RetrieveProfilerFactory",(function(){var r=e.getSupportedEnvironmentChecker(),t=new ie(e.featureChecker,r,e.logger),o=new he(e.logger),n=new Se(e.logger),i={deObfuscationEndpoint:null==e.jsCPUProfilingPackageInitOptions.deObfuscationEndpoint?"":e.jsCPUProfilingPackageInitOptions.deObfuscationEndpoint},s=new we(e.logger),c=new Ye(e.logger),u=null!=e.jsCPUProfilingPackageInitOptions.shouldKeepSamplesOutsideOfProfilingInterval&&e.jsCPUProfilingPackageInitOptions.shouldKeepSamplesOutsideOfProfilingInterval,d=null!=e.jsCPUProfilingPackageInitOptions.shouldRecordExpandedTimeStamps&&e.jsCPUProfilingPackageInitOptions.shouldRecordExpandedTimeStamps,g=new Fe(s,c,u,d,e.logger),p=new He(e.logger),f=new Ce(g,p,e.logger),m=new Qe(e.logger),T=new Xe(e.logger),h=null==e.jsCPUProfilingPackageInitOptions.callTreeFilteringThresholdInMs?50:e.jsCPUProfilingPackageInitOptions.callTreeFilteringThresholdInMs,P=null==e.jsCPUProfilingPackageInitOptions.frameTotalExecutionTimeFilteringThresholdInMs?0:e.jsCPUProfilingPackageInitOptions.frameTotalExecutionTimeFilteringThresholdInMs,S=new cr(e.logger),I=new ye(f,m,T,h,S,P,e.logger),b=new er(e.logger),y=v.getIdleTimeJobScheduler(),k=C.getDocumentVisibilityChecker(),O=null!=e.jsCPUProfilingPackageInitOptions.shouldProcessProfileCapturedInAHiddenDocument&&e.jsCPUProfilingPackageInitOptions.shouldProcessProfileCapturedInAHiddenDocument,M=new rr(I,b),N=null!=e.jsCPUProfilingPackageInitOptions.useMainEventLoopForProfilerTraceProcessing&&e.jsCPUProfilingPackageInitOptions.useMainEventLoopForProfilerTraceProcessing,F=U.getWindowPropertyChecker(),w=new tr(F),R=x.getSendBeaconScheduler(),W=null!=e.jsCPUProfilingPackageInitOptions.shouldSendAllCallTreesFromProfileInASingleRequest&&e.jsCPUProfilingPackageInitOptions.shouldSendAllCallTreesFromProfileInASingleRequest,_=null==e.jsCPUProfilingPackageInitOptions.shouldUseSendBeaconForSendingCallTrees||e.jsCPUProfilingPackageInitOptions.shouldUseSendBeaconForSendingCallTrees,E=new a,L=new lr(R,W,E,_,e.logger),B=new nr(e.jsCPUProfilingPackageInitOptions,e.logMessageProcessor,e.logger),A=null==e.jsCPUProfilingPackageInitOptions.profilerTraceProcessingWebWorkerSourceURL?"":e.jsCPUProfilingPackageInitOptions.profilerTraceProcessingWebWorkerSourceURL,J=e.jsCPUProfilingPackageInitOptions.deObfuscationRequestBodyPropertiesRetriever,D=e.jsCPUProfilingPackageInitOptions.deObfuscationRequestQueryParamsRetriever,V=new te(e.logger),j=new be({idleTimeJobScheduler:y,documentVisibilityChecker:k,shouldProcessProfileCapturedInAHiddenDocument:O,traceProcessor:M,shouldProcessProfileInMainEventLoop:N,webWorkerAPIAvailabilityChecker:w,deObfuscationInfo:i,callTreesSender:L,webWorkerSourceURL:A,profilerTraceProcessingWorkerFactory:B,shouldKeepSamplesOutsideOfProfilingInterval:u,shouldRecordExpandedTimeStamps:d,callTreeFilteringThresholdInMs:h,frameTotalExecutionTimeFilteringThresholdInMs:P,deObfuscationRequestBodyPropertiesRetriever:J,deObfuscationRequestQueryParamsRetriever:D,customPropertiesExtractor:V,logger:e.logger}),z=new ne(t,e.logger,o,n,j,e.jsCPUProfilingPackageInitOptions);return l.b.generateOperationResult({didOperationSucceed:!0,result:z})}),r,this.logger).getResult()},e.prototype.getSupportedEnvironmentChecker=function(){return de.build(this.logger)},e}(),dr=function(){function e(e){this.logger=e}return e.prototype.retrieveProfilerFactory=function(){return this.logger.logNullJSCPUProfilerFactoryInvoked(),new Ie(this.logger)},e}();!function(e){e[e.IdMissing=0]="IdMissing",e[e.DataMissing=1]="DataMissing",e[e.MissingProfilerImplementation=2]="MissingProfilerImplementation",e[e.FailingValidationsInProfilerFactory=3]="FailingValidationsInProfilerFactory",e[e.WindowMissingInJSEnvironment=4]="WindowMissingInJSEnvironment",e[e.WindowPropertyNameChecked=5]="WindowPropertyNameChecked",e[e.UserAgentToParseChromiumMajorVersionNumber=6]="UserAgentToParseChromiumMajorVersionNumber",e[e.ChromeNotPresentInUserAgent=7]="ChromeNotPresentInUserAgent",e[e.UnableToIsolateChromeInformationFromUserAgent=8]="UnableToIsolateChromeInformationFromUserAgent",e[e.UnableToExtractChromeVersionInformation=9]="UnableToExtractChromeVersionInformation",e[e.UnableToParseChromeMajorVersionString=10]="UnableToParseChromeMajorVersionString",e[e.ParsedChromiumMajorVersionNumber=11]="ParsedChromiumMajorVersionNumber",e[e.UserAgentToCheckForChromiumBrowser=12]="UserAgentToCheckForChromiumBrowser",e[e.EmptyUserAgentString=13]="EmptyUserAgentString",e[e.BrowserUserAgentNotChromiumBased=14]="BrowserUserAgentNotChromiumBased",e[e.UserAgentSpoofedToBeChromium=15]="UserAgentSpoofedToBeChromium",e[e.BrowserNotChromiumBasedBrowser=16]="BrowserNotChromiumBasedBrowser",e[e.UnsupportedChromiumMajorVersionNumber=17]="UnsupportedChromiumMajorVersionNumber",e[e.ProfilerInitOptionsNullOrUndefined=18]="ProfilerInitOptionsNullOrUndefined",e[e.SamplingIntervalIsLessThanOrEqualToZero=19]="SamplingIntervalIsLessThanOrEqualToZero",e[e.SamplingIntervalLessThanMinimumSupportedSamplingInterval=20]="SamplingIntervalLessThanMinimumSupportedSamplingInterval",e[e.UnsupportedBrowser=21]="UnsupportedBrowser",e[e.UnsupportedOperatingSystem=22]="UnsupportedOperatingSystem",e[e.JSSelfProfilingAPIUnavailable=23]="JSSelfProfilingAPIUnavailable",e[e.RetrievedUserAgent=24]="RetrievedUserAgent",e[e.NullJSCPUProfilerStartCalled=25]="NullJSCPUProfilerStartCalled",e[e.NullJSCPUProfilerStopCalled=26]="NullJSCPUProfilerStopCalled",e[e.NullOrUndefinedProfilerInitOptions=27]="NullOrUndefinedProfilerInitOptions",e[e.MaxBufferSizeFixedToDefaultSize=28]="MaxBufferSizeFixedToDefaultSize",e[e.MaxBufferSizeWasNotFixedBeforeRetrieval=29]="MaxBufferSizeWasNotFixedBeforeRetrieval",e[e.ProfilerNotPresentInJSEnvironment=30]="ProfilerNotPresentInJSEnvironment",e[e.SamplingIntervalValidationCheckFailed=31]="SamplingIntervalValidationCheckFailed",e[e.MaxBufferValidationFailed=32]="MaxBufferValidationFailed",e[e.MaxBufferSizeNotSpecified=33]="MaxBufferSizeNotSpecified",e[e.MaxBufferSizeLessThanOrEqualToZero=34]="MaxBufferSizeLessThanOrEqualToZero",e[e.ManualProfilerValidationFailed=35]="ManualProfilerValidationFailed",e[e.ProfilingIntervalValidationFailed=36]="ProfilingIntervalValidationFailed",e[e.ProfilingIntervalNullOrUndefined=37]="ProfilingIntervalNullOrUndefined",e[e.ProfilingIntervalLessThanOrEqualToZero=38]="ProfilingIntervalLessThanOrEqualToZero",e[e.ProfilingIntervalLessThanSamplingInterval=39]="ProfilingIntervalLessThanSamplingInterval",e[e.TimedProfilerValidationFailed=40]="TimedProfilerValidationFailed",e[e.IdleIntervalValidationFailed=41]="IdleIntervalValidationFailed",e[e.IdleIntervalIsNullOrUndefined=42]="IdleIntervalIsNullOrUndefined",e[e.IdleIntervalIsLessThanOrEqualToZero=43]="IdleIntervalIsLessThanOrEqualToZero",e[e.PostProfilerStartCallbackSpecified=44]="PostProfilerStartCallbackSpecified",e[e.PreProfilerStartCheckFailed=45]="PreProfilerStartCheckFailed",e[e.MaxBufferSizeNotFixed=46]="MaxBufferSizeNotFixed",e[e.ProfilerAlreadyStarted=47]="ProfilerAlreadyStarted",e[e.ProfilerStartSucceeded=48]="ProfilerStartSucceeded",e[e.InvokingPostProfilerStartCallback=49]="InvokingPostProfilerStartCallback",e[e.PostProfilerStopCallbackSpecified=50]="PostProfilerStopCallbackSpecified",e[e.ProfilerInstanceIsUndefined=51]="ProfilerInstanceIsUndefined",e[e.ProfilerStopPromiseResolved=52]="ProfilerStopPromiseResolved",e[e.ProfilerStopPromiseRejected=53]="ProfilerStopPromiseRejected",e[e.PostProfilerStopCallbackInvoked=54]="PostProfilerStopCallbackInvoked",e[e.PostTimedStartProfilerStartCallbackInvoked=55]="PostTimedStartProfilerStartCallbackInvoked",e[e.ProfilingIntervalIsUndefined=56]="ProfilingIntervalIsUndefined",e[e.TimerJobToStopProfilerSet=57]="TimerJobToStopProfilerSet",e[e.TimedProfilerStopCallbackInvoked=58]="TimedProfilerStopCallbackInvoked",e[e.TimedProfilerIsBeingStoppedManually=59]="TimedProfilerIsBeingStoppedManually",e[e.ProfilerStartPromiseCreated=60]="ProfilerStartPromiseCreated",e[e.ProfilerStopGoingToBeInvoked=61]="ProfilerStopGoingToBeInvoked",e[e.SamplingIntervalUsedForStartingProfiler=62]="SamplingIntervalUsedForStartingProfiler",e[e.MaxBufferSize=63]="MaxBufferSize",e[e.NoProfilerInstanceBuilt=64]="NoProfilerInstanceBuilt",e[e.ProfilerInitOptionsValidationFailed=65]="ProfilerInitOptionsValidationFailed",e[e.UnableToFixUpProfilerInitOptions=66]="UnableToFixUpProfilerInitOptions",e[e.ProfilingIsNotEnabled=67]="ProfilingIsNotEnabled",e[e.ProfilingIsNotSupportedEnvironment=68]="ProfilingIsNotSupportedEnvironment",e[e.FeatureCheckerIsNullOrUndefined=69]="FeatureCheckerIsNullOrUndefined",e[e.NullSupportedEnvironmentCheckerInvoked=70]="NullSupportedEnvironmentCheckerInvoked",e[e.NullJSCPUProfilerInitOptionsValidatorInvoked=71]="NullJSCPUProfilerInitOptionsValidatorInvoked",e[e.NullJSCPUProfilerFactoryInvoked=72]="NullJSCPUProfilerFactoryInvoked",e[e.NullOrUndefinedIdleInterval=73]="NullOrUndefinedIdleInterval",e[e.NoProfilerObserverSubscribed=74]="NoProfilerObserverSubscribed",e[e.CreateProfilerDidNotSubscribeProfilerObserver=75]="CreateProfilerDidNotSubscribeProfilerObserver",e[e.NullOrUndefinedCustomPropertiesRetriever=76]="NullOrUndefinedCustomPropertiesRetriever",e[e.NullOrUndefinedCustomProperties=77]="NullOrUndefinedCustomProperties",e[e.CustomPropertyKeyIsNull=78]="CustomPropertyKeyIsNull",e[e.CustomPropertyValueIsNull=79]="CustomPropertyValueIsNull",e[e.RetrieveCallTreesCalledBeforeTransform=80]="RetrieveCallTreesCalledBeforeTransform",e[e.RetrieveBuiltCallTreesBeforeBuildCallTrees=81]="RetrieveBuiltCallTreesBeforeBuildCallTrees",e[e.RetrieveStacksCalledBeforeBuildStacks=82]="RetrieveStacksCalledBeforeBuildStacks",e[e.ExecutionStacksNeverBuilt=83]="ExecutionStacksNeverBuilt",e[e.PeekOnNullExecutionStackInvoked=84]="PeekOnNullExecutionStackInvoked",e[e.PopOnNullExecutionStackInvoked=85]="PopOnNullExecutionStackInvoked",e[e.EmptyStacks=86]="EmptyStacks",e[e.EmptyFrames=87]="EmptyFrames",e[e.ForciblyExitingLoopWhileBuildingStack=88]="ForciblyExitingLoopWhileBuildingStack",e[e.RetrieveStackCalledBeforeBuildStack=89]="RetrieveStackCalledBeforeBuildStack",e[e.ExecutionStackNeverBuilt=90]="ExecutionStackNeverBuilt",e[e.ConvertStacksToCallTreesNeverCalled=91]="ConvertStacksToCallTreesNeverCalled",e[e.ConvertStackToCallTreeNeverCalled=92]="ConvertStackToCallTreeNeverCalled",e[e.NullFrameNodeCreated=93]="NullFrameNodeCreated",e[e.InvalidSampleIndex=94]="InvalidSampleIndex",e[e.InvalidFrameNodeStartTime=95]="InvalidFrameNodeStartTime",e[e.InvalidFrameNodeExecutionTime=96]="InvalidFrameNodeExecutionTime",e[e.InvalidNewFrameNodeExecutionTime=97]="InvalidNewFrameNodeExecutionTime",e[e.NegativeSubTreeExecutionTime=98]="NegativeSubTreeExecutionTime",e[e.FixerForProfilerType=99]="FixerForProfilerType",e[e.MissingProfilerInitOptionsFixerImplementation=100]="MissingProfilerInitOptionsFixerImplementation",e[e.LoopBackFixerFixProfilerInitOptionsInvoked=101]="LoopBackFixerFixProfilerInitOptionsInvoked",e[e.LoopBackFixerRetrieveFixedProfilerInitOptionsInvoked=102]="LoopBackFixerRetrieveFixedProfilerInitOptionsInvoked",e[e.MissingDeObfuscationEndpoint=103]="MissingDeObfuscationEndpoint",e[e.NotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling=104]="NotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling",e[e.NullCallTreeDepthFirstIteratorInvoked=105]="NullCallTreeDepthFirstIteratorInvoked",e[e.EmptySamplesArrayPassedToFilter=106]="EmptySamplesArrayPassedToFilter",e[e.NullCallTreeLeftMostNodesIteratorInvoked=107]="NullCallTreeLeftMostNodesIteratorInvoked",e[e.NullCallTreeRightMostNodesIteratorInvoked=108]="NullCallTreeRightMostNodesIteratorInvoked",e[e.MissingIsProfilingEnabledOnFeatureChecker=109]="MissingIsProfilingEnabledOnFeatureChecker",e[e.FeatureCheckerIsProfilingEnabledNotAFunction=110]="FeatureCheckerIsProfilingEnabledNotAFunction",e[e.NullCallTreeGetTotalExecutionTimeInvoked=111]="NullCallTreeGetTotalExecutionTimeInvoked",e[e.NullCallTreeGetCustomPropertiesInvoked=112]="NullCallTreeGetCustomPropertiesInvoked",e[e.SerializedCallTrees=113]="SerializedCallTrees",e[e.NullCallTreeIteratorImplGetNextInvoked=114]="NullCallTreeIteratorImplGetNextInvoked",e[e.NullCallTreeIteratorImplHasMoreInvoked=115]="NullCallTreeIteratorImplHasMoreInvoked",e[e.MissingProfilerNameForProfilerType=116]="MissingProfilerNameForProfilerType",e[e.ExpectedOnlyOneNodePerLevelInCallTree=117]="ExpectedOnlyOneNodePerLevelInCallTree",e[e.MissingWebWorkerSourceURL=118]="MissingWebWorkerSourceURL",e[e.MaxNumberOfProfilersAlreadyCreated=119]="MaxNumberOfProfilersAlreadyCreated",e[e.WebWorkerAPINotAvailable=120]="WebWorkerAPINotAvailable",e[e.SamplingIntervalAboveMaxSamplingInterval=121]="SamplingIntervalAboveMaxSamplingInterval",e[e.UnableToBootWebWorker=122]="UnableToBootWebWorker",e[e.WorkerInstanceNotFound=123]="WorkerInstanceNotFound",e[e.IdNotFoundInMessageToWorker=124]="IdNotFoundInMessageToWorker",e[e.DataNotFoundInMessageToWorker=125]="DataNotFoundInMessageToWorker",e[e.IdNotFoundInMessageFromWorker=126]="IdNotFoundInMessageFromWorker",e[e.DataNotFoundInMessageFromWorker=127]="DataNotFoundInMessageFromWorker",e[e.IdNotFoundInWorkerLogMessage=128]="IdNotFoundInWorkerLogMessage",e[e.MessageNotFoundInWorkerLogMessage=129]="MessageNotFoundInWorkerLogMessage",e[e.UnknownMessageFromWorker=130]="UnknownMessageFromWorker",e[e.UnknownLogMessageFromWorker=131]="UnknownLogMessageFromWorker",e[e.Operation=132]="Operation",e[e.FallbackResultReturned=133]="FallbackResultReturned",e[e.UnknownMessageToWorker=134]="UnknownMessageToWorker",e[e.ExceptionEncounteredInWorker=135]="ExceptionEncounteredInWorker",e[e.MissingDeObfuscationInfoInTraceProcessingInfo=136]="MissingDeObfuscationInfoInTraceProcessingInfo",e[e.MissingShouldKeepSamplesOutsideOfProfilingIntervalInTraceProcessingInfo=137]="MissingShouldKeepSamplesOutsideOfProfilingIntervalInTraceProcessingInfo",e[e.MissingShouldRecordExpandedTimeStampsInTraceProcessingInfo=138]="MissingShouldRecordExpandedTimeStampsInTraceProcessingInfo",e[e.MissingCallTreeFilteringThresholdInMs=139]="MissingCallTreeFilteringThresholdInMs",e[e.InvalidMessageReceivedByWorker=140]="InvalidMessageReceivedByWorker",e[e.InvalidProcessTraceMessageReceivedByWorker=141]="InvalidProcessTraceMessageReceivedByWorker",e[e.MissingTraceInTraceProcessingInfo=142]="MissingTraceInTraceProcessingInfo",e[e.SerializedCallTreesMissingInProcessorResult=143]="SerializedCallTreesMissingInProcessorResult",e[e.LogsMissingInProcessorResult=144]="LogsMissingInProcessorResult",e[e.UndefinedWebWorkerCompletionCallback=145]="UndefinedWebWorkerCompletionCallback",e[e.LogsMissingInErrorsFromWebWorker=146]="LogsMissingInErrorsFromWebWorker",e[e.UndefinedErrorCallback=147]="UndefinedErrorCallback",e[e.UndefinedTraceProcessingInfoToReturnBack=148]="UndefinedTraceProcessingInfoToReturnBack",e[e.WebWorkerAlreadyStarted=149]="WebWorkerAlreadyStarted",e[e.WebWorkerErrorFallingBackToMainEventLoop=150]="WebWorkerErrorFallingBackToMainEventLoop",e[e.CustomPropertiesMissingInTrace=151]="CustomPropertiesMissingInTrace",e[e.ProfilerTraceMissingInTrace=152]="ProfilerTraceMissingInTrace",e[e.ProfilerTraceStartTimestampMissingInTrace=153]="ProfilerTraceStartTimestampMissingInTrace",e[e.ProfilerPropertiesMissingInTrace=154]="ProfilerPropertiesMissingInTrace",e[e.ElapsedProfilingTimeMissingInTrace=155]="ElapsedProfilingTimeMissingInTrace",e[e.InvalidProfilerTraceToProcess=156]="InvalidProfilerTraceToProcess",e[e.WebWorkerError=157]="WebWorkerError",e[e.WebWorkerTraceProcessingInfoMissingToReturnOnError=158]="WebWorkerTraceProcessingInfoMissingToReturnOnError",e[e.WebWorkerErrorCallbackNotRegistered=159]="WebWorkerErrorCallbackNotRegistered",e[e.ProfilerTrace=160]="ProfilerTrace",e[e.MissingCallToFilterCallTrees=161]="MissingCallToFilterCallTrees",e[e.MissingCallToFilterFrames=162]="MissingCallToFilterFrames",e[e.NullCallTreeFramesFiltererFilterFramesInvoked=163]="NullCallTreeFramesFiltererFilterFramesInvoked",e[e.NullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked=164]="NullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked",e[e.NullCallTreeGetFramesFiltererInvoked=165]="NullCallTreeGetFramesFiltererInvoked",e[e.FilterFrameWithNoParent=166]="FilterFrameWithNoParent",e[e.MissingCallTreeFilteringThresholdInMsInTraceProcessingInfo=167]="MissingCallTreeFilteringThresholdInMsInTraceProcessingInfo",e[e.NoCallTreesToSend=168]="NoCallTreesToSend",e[e.OperationLogMessageFiltererInitOptions=169]="OperationLogMessageFiltererInitOptions"}(ar||(ar={}));var gr,pr=function(){function e(e){this.logContext=e,this.logMessageProcessors=[]}return e.prototype.updateLogPrefix=function(e){throw new Error("updateLogPrefix should not be called on WebWorkerLogger.")},e.prototype.logMissingProfilerImplementation=function(){this.sendLogMessageToProcessors({id:ar.MissingProfilerImplementation,message:void 0,context:this.logContext})},e.prototype.logFailingValidationsInProfilerFactory=function(){this.sendLogMessageToProcessors({id:ar.FailingValidationsInProfilerFactory,message:void 0,context:this.logContext})},e.prototype.logWindowMissingInJSEnvironment=function(){this.sendLogMessageToProcessors({id:ar.WindowMissingInJSEnvironment,message:void 0,context:this.logContext})},e.prototype.logWindowPropertyNameChecked=function(e){this.sendLogMessageToProcessors({id:ar.WindowPropertyNameChecked,message:e,context:this.logContext})},e.prototype.logUserAgentToParseChromiumMajorVersionNumber=function(){this.sendLogMessageToProcessors({id:ar.UserAgentToParseChromiumMajorVersionNumber,message:void 0,context:this.logContext})},e.prototype.logChromeNotPresentInUserAgent=function(){this.sendLogMessageToProcessors({id:ar.ChromeNotPresentInUserAgent,message:void 0,context:this.logContext})},e.prototype.logUnableToIsolateChromeInformationFromUserAgent=function(){this.sendLogMessageToProcessors({id:ar.UnableToIsolateChromeInformationFromUserAgent,message:void 0,context:this.logContext})},e.prototype.logUnableToExtractChromeVersionInformation=function(){this.sendLogMessageToProcessors({id:ar.UnableToExtractChromeVersionInformation,message:void 0,context:this.logContext})},e.prototype.logUnableToParseChromeMajorVersionString=function(){this.sendLogMessageToProcessors({id:ar.UnableToParseChromeMajorVersionString,message:void 0,context:this.logContext})},e.prototype.logParsedChromiumMajorVersionNumber=function(e){this.sendLogMessageToProcessors({id:ar.ParsedChromiumMajorVersionNumber,message:e,context:this.logContext})},e.prototype.logUserAgentToCheckForChromiumBrowser=function(e){this.sendLogMessageToProcessors({id:ar.UserAgentToCheckForChromiumBrowser,message:e,context:this.logContext})},e.prototype.logEmptyUserAgentString=function(){this.sendLogMessageToProcessors({id:ar.EmptyUserAgentString,message:void 0,context:this.logContext})},e.prototype.logBrowserUserAgentNotChromiumBased=function(){this.sendLogMessageToProcessors({id:ar.BrowserUserAgentNotChromiumBased,message:void 0,context:this.logContext})},e.prototype.logUserAgentSpoofedToBeChromium=function(){this.sendLogMessageToProcessors({id:ar.UserAgentSpoofedToBeChromium,message:void 0,context:this.logContext})},e.prototype.logBrowserNotChromiumBasedBrowser=function(){this.sendLogMessageToProcessors({id:ar.BrowserNotChromiumBasedBrowser,message:void 0,context:this.logContext})},e.prototype.logUnsupportedChromiumMajorVersionNumber=function(){this.sendLogMessageToProcessors({id:ar.UnsupportedChromiumMajorVersionNumber,message:void 0,context:this.logContext})},e.prototype.logProfilerInitOptionsNullOrUndefined=function(){this.sendLogMessageToProcessors({id:ar.ProfilerInitOptionsNullOrUndefined,message:void 0,context:this.logContext})},e.prototype.logSamplingIntervalIsLessThanOrEqualToZero=function(){this.sendLogMessageToProcessors({id:ar.SamplingIntervalIsLessThanOrEqualToZero,message:void 0,context:this.logContext})},e.prototype.logSamplingIntervalLessThanMinimumSupportedSamplingInterval=function(e,r){this.sendLogMessageToProcessors({id:ar.SamplingIntervalLessThanMinimumSupportedSamplingInterval,message:{samplingInterval:e,minimumSupportedSamplingInterval:r},context:this.logContext})},e.prototype.logUnsupportedBrowser=function(){this.sendLogMessageToProcessors({id:ar.UnsupportedBrowser,message:void 0,context:this.logContext})},e.prototype.logUnsupportedOperatingSystem=function(){this.sendLogMessageToProcessors({id:ar.UnsupportedOperatingSystem,message:void 0,context:this.logContext})},e.prototype.logJSSelfProfilingAPIUnavailable=function(){this.sendLogMessageToProcessors({id:ar.JSSelfProfilingAPIUnavailable,message:void 0,context:this.logContext})},e.prototype.logRetrievedUserAgent=function(e){this.sendLogMessageToProcessors({id:ar.RetrievedUserAgent,message:e,context:this.logContext})},e.prototype.logNullJSCPUProfilerStartCalled=function(){this.sendLogMessageToProcessors({id:ar.NullJSCPUProfilerStartCalled,message:void 0,context:this.logContext})},e.prototype.logNullJSCPUProfilerStopCalled=function(){this.sendLogMessageToProcessors({id:ar.NullJSCPUProfilerStopCalled,message:void 0,context:this.logContext})},e.prototype.logNullOrUndefinedProfilerInitOptions=function(){this.sendLogMessageToProcessors({id:ar.NullOrUndefinedProfilerInitOptions,message:void 0,context:this.logContext})},e.prototype.logMaxBufferSizeFixedToDefaultSize=function(){this.sendLogMessageToProcessors({id:ar.MaxBufferSizeFixedToDefaultSize,message:void 0,context:this.logContext})},e.prototype.logMaxBufferSizeWasNotFixedBeforeRetrieval=function(){this.sendLogMessageToProcessors({id:ar.MaxBufferSizeWasNotFixedBeforeRetrieval,message:void 0,context:this.logContext})},e.prototype.logProfilerNotPresentInJSEnvironment=function(){this.sendLogMessageToProcessors({id:ar.ProfilerNotPresentInJSEnvironment,message:void 0,context:this.logContext})},e.prototype.logSamplingIntervalValidationCheckFailed=function(){this.sendLogMessageToProcessors({id:ar.SamplingIntervalValidationCheckFailed,message:void 0,context:this.logContext})},e.prototype.logMaxBufferValidationFailed=function(){this.sendLogMessageToProcessors({id:ar.MaxBufferValidationFailed,message:void 0,context:this.logContext})},e.prototype.logMaxBufferSizeNotSpecified=function(){this.sendLogMessageToProcessors({id:ar.MaxBufferSizeNotSpecified,message:void 0,context:this.logContext})},e.prototype.logMaxBufferSizeLessThanOrEqualToZero=function(){this.sendLogMessageToProcessors({id:ar.MaxBufferSizeLessThanOrEqualToZero,message:void 0,context:this.logContext})},e.prototype.logManualProfilerValidationFailed=function(){this.sendLogMessageToProcessors({id:ar.ManualProfilerValidationFailed,message:void 0,context:this.logContext})},e.prototype.logProfilingIntervalValidationFailed=function(){this.sendLogMessageToProcessors({id:ar.ProfilingIntervalValidationFailed,message:void 0,context:this.logContext})},e.prototype.logProfilingIntervalNullOrUndefined=function(){this.sendLogMessageToProcessors({id:ar.ProfilingIntervalNullOrUndefined,message:void 0,context:this.logContext})},e.prototype.logProfilingIntervalLessThanOrEqualToZero=function(){this.sendLogMessageToProcessors({id:ar.ProfilingIntervalLessThanOrEqualToZero,message:void 0,context:this.logContext})},e.prototype.logProfilingIntervalLessThanSamplingInterval=function(){this.sendLogMessageToProcessors({id:ar.ProfilingIntervalLessThanSamplingInterval,message:void 0,context:this.logContext})},e.prototype.logTimedProfilerValidationFailed=function(){this.sendLogMessageToProcessors({id:ar.TimedProfilerValidationFailed,message:void 0,context:this.logContext})},e.prototype.logIdleIntervalValidationFailed=function(){this.sendLogMessageToProcessors({id:ar.IdleIntervalValidationFailed,message:void 0,context:this.logContext})},e.prototype.logIdleIntervalIsNullOrUndefined=function(){this.sendLogMessageToProcessors({id:ar.IdleIntervalIsNullOrUndefined,message:void 0,context:this.logContext})},e.prototype.logIdleIntervalIsLessThanOrEqualToZero=function(){this.sendLogMessageToProcessors({id:ar.IdleIntervalIsLessThanOrEqualToZero,message:void 0,context:this.logContext})},e.prototype.logPostProfilerStartCallbackSpecified=function(){this.sendLogMessageToProcessors({id:ar.PostProfilerStartCallbackSpecified,message:void 0,context:this.logContext})},e.prototype.logPreProfilerStartCheckFailed=function(){this.sendLogMessageToProcessors({id:ar.PreProfilerStartCheckFailed,message:void 0,context:this.logContext})},e.prototype.logMaxBufferSizeNotFixed=function(){this.sendLogMessageToProcessors({id:ar.MaxBufferSizeNotFixed,message:void 0,context:this.logContext})},e.prototype.logProfilerAlreadyStarted=function(){this.sendLogMessageToProcessors({id:ar.ProfilerAlreadyStarted,message:void 0,context:this.logContext})},e.prototype.logProfilerStartSucceeded=function(){this.sendLogMessageToProcessors({id:ar.ProfilerStartSucceeded,message:void 0,context:this.logContext})},e.prototype.logInvokingPostProfilerStartCallback=function(){this.sendLogMessageToProcessors({id:ar.InvokingPostProfilerStartCallback,message:void 0,context:this.logContext})},e.prototype.logPostProfilerStopCallbackSpecified=function(){this.sendLogMessageToProcessors({id:ar.PostProfilerStopCallbackSpecified,message:void 0,context:this.logContext})},e.prototype.logProfilerInstanceIsUndefined=function(){this.sendLogMessageToProcessors({id:ar.ProfilerInstanceIsUndefined,message:void 0,context:this.logContext})},e.prototype.logProfilerStopPromiseResolved=function(){this.sendLogMessageToProcessors({id:ar.ProfilerStopPromiseResolved,message:void 0,context:this.logContext})},e.prototype.logProfilerStopPromiseRejected=function(e){this.sendLogMessageToProcessors({id:ar.ProfilerStopPromiseRejected,message:e,context:this.logContext})},e.prototype.logPostProfilerStopCallbackInvoked=function(){this.sendLogMessageToProcessors({id:ar.PostProfilerStopCallbackInvoked,message:void 0,context:this.logContext})},e.prototype.logPostTimedStartProfilerStartCallbackInvoked=function(){this.sendLogMessageToProcessors({id:ar.PostTimedStartProfilerStartCallbackInvoked,message:void 0,context:this.logContext})},e.prototype.logProfilingIntervalIsUndefined=function(){this.sendLogMessageToProcessors({id:ar.ProfilingIntervalIsUndefined,message:void 0,context:this.logContext})},e.prototype.logTimerJobToStopProfilerSet=function(){this.sendLogMessageToProcessors({id:ar.TimerJobToStopProfilerSet,message:void 0,context:this.logContext})},e.prototype.logTimedProfilerStopCallbackInvoked=function(){this.sendLogMessageToProcessors({id:ar.TimedProfilerStopCallbackInvoked,message:void 0,context:this.logContext})},e.prototype.logTimedProfilerIsBeingStoppedManually=function(){this.sendLogMessageToProcessors({id:ar.TimedProfilerIsBeingStoppedManually,message:void 0,context:this.logContext})},e.prototype.logProfilerStartPromiseCreated=function(){this.sendLogMessageToProcessors({id:ar.ProfilerStartPromiseCreated,message:void 0,context:this.logContext})},e.prototype.logProfilerStopGoingToBeInvoked=function(){this.sendLogMessageToProcessors({id:ar.ProfilerStopGoingToBeInvoked,message:void 0,context:this.logContext})},e.prototype.logSamplingIntervalUsedForStartingProfiler=function(){this.sendLogMessageToProcessors({id:ar.SamplingIntervalUsedForStartingProfiler,message:void 0,context:this.logContext})},e.prototype.logMaxBufferSize=function(e){this.sendLogMessageToProcessors({id:ar.MaxBufferSize,message:e,context:this.logContext})},e.prototype.logNoProfilerInstanceBuilt=function(){this.sendLogMessageToProcessors({id:ar.NoProfilerInstanceBuilt,message:void 0,context:this.logContext})},e.prototype.logProfilerInitOptionsValidationFailed=function(){this.sendLogMessageToProcessors({id:ar.ProfilerInitOptionsValidationFailed,message:void 0,context:this.logContext})},e.prototype.logUnableToFixUpProfilerInitOptions=function(){this.sendLogMessageToProcessors({id:ar.UnableToFixUpProfilerInitOptions,message:void 0,context:this.logContext})},e.prototype.logProfilingIsNotEnabled=function(){this.sendLogMessageToProcessors({id:ar.ProfilingIsNotEnabled,message:void 0,context:this.logContext})},e.prototype.logProfilingIsNotSupportedEnvironment=function(){this.sendLogMessageToProcessors({id:ar.ProfilingIsNotSupportedEnvironment,message:void 0,context:this.logContext})},e.prototype.logFeatureCheckerIsNullOrUndefined=function(){this.sendLogMessageToProcessors({id:ar.FeatureCheckerIsNullOrUndefined,message:void 0,context:this.logContext})},e.prototype.logNullSupportedEnvironmentCheckerInvoked=function(){this.sendLogMessageToProcessors({id:ar.NullSupportedEnvironmentCheckerInvoked,message:void 0,context:this.logContext})},e.prototype.logNullJSCPUProfilerInitOptionsValidatorInvoked=function(){this.sendLogMessageToProcessors({id:ar.NullJSCPUProfilerInitOptionsValidatorInvoked,message:void 0,context:this.logContext})},e.prototype.logNullJSCPUProfilerFactoryInvoked=function(){this.sendLogMessageToProcessors({id:ar.NullJSCPUProfilerFactoryInvoked,message:void 0,context:this.logContext})},e.prototype.logNullOrUndefinedIdleInterval=function(){this.sendLogMessageToProcessors({id:ar.NullOrUndefinedIdleInterval,message:void 0,context:this.logContext})},e.prototype.logNoProfilerObserverSubscribed=function(){this.sendLogMessageToProcessors({id:ar.NoProfilerObserverSubscribed,message:void 0,context:this.logContext})},e.prototype.logCreateProfilerDidNotSubscribeProfilerObserver=function(){this.sendLogMessageToProcessors({id:ar.CreateProfilerDidNotSubscribeProfilerObserver,message:void 0,context:this.logContext})},e.prototype.logNullOrUndefinedCustomPropertiesRetriever=function(){this.sendLogMessageToProcessors({id:ar.NullOrUndefinedCustomPropertiesRetriever,message:void 0,context:this.logContext})},e.prototype.logNullOrUndefinedCustomProperties=function(){this.sendLogMessageToProcessors({id:ar.NullOrUndefinedCustomProperties,message:void 0,context:this.logContext})},e.prototype.logCustomPropertyKeyIsNull=function(){this.sendLogMessageToProcessors({id:ar.CustomPropertyKeyIsNull,message:void 0,context:this.logContext})},e.prototype.logCustomPropertyValueIsNull=function(){this.sendLogMessageToProcessors({id:ar.CustomPropertyValueIsNull,message:void 0,context:this.logContext})},e.prototype.logRetrieveCallTreesCalledBeforeTransform=function(){this.sendLogMessageToProcessors({id:ar.RetrieveCallTreesCalledBeforeTransform,message:void 0,context:this.logContext})},e.prototype.logRetrieveBuiltCallTreesBeforeBuildCallTrees=function(){this.sendLogMessageToProcessors({id:ar.RetrieveBuiltCallTreesBeforeBuildCallTrees,message:void 0,context:this.logContext})},e.prototype.logRetrieveStacksCalledBeforeBuildStacks=function(){this.sendLogMessageToProcessors({id:ar.RetrieveStacksCalledBeforeBuildStacks,message:void 0,context:this.logContext})},e.prototype.logExecutionStacksNeverBuilt=function(){this.sendLogMessageToProcessors({id:ar.ExecutionStacksNeverBuilt,message:void 0,context:this.logContext})},e.prototype.logPeekOnNullExecutionStackInvoked=function(){this.sendLogMessageToProcessors({id:ar.PeekOnNullExecutionStackInvoked,message:void 0,context:this.logContext})},e.prototype.logPopOnNullExecutionStackInvoked=function(){this.sendLogMessageToProcessors({id:ar.PopOnNullExecutionStackInvoked,message:void 0,context:this.logContext})},e.prototype.logEmptyStacks=function(){this.sendLogMessageToProcessors({id:ar.EmptyStacks,message:void 0,context:this.logContext})},e.prototype.logEmptyFrames=function(){this.sendLogMessageToProcessors({id:ar.EmptyFrames,message:void 0,context:this.logContext})},e.prototype.logForciblyExitingLoopWhileBuildingStack=function(){this.sendLogMessageToProcessors({id:ar.ForciblyExitingLoopWhileBuildingStack,message:void 0,context:this.logContext})},e.prototype.logRetrieveStackCalledBeforeBuildStack=function(){this.sendLogMessageToProcessors({id:ar.RetrieveStackCalledBeforeBuildStack,message:void 0,context:this.logContext})},e.prototype.logExecutionStackNeverBuilt=function(){this.sendLogMessageToProcessors({id:ar.ExecutionStackNeverBuilt,message:void 0,context:this.logContext})},e.prototype.logConvertStacksToCallTreesNeverCalled=function(){this.sendLogMessageToProcessors({id:ar.ConvertStacksToCallTreesNeverCalled,message:void 0,context:this.logContext})},e.prototype.logConvertStackToCallTreeNeverCalled=function(){this.sendLogMessageToProcessors({id:ar.ConvertStackToCallTreeNeverCalled,message:void 0,context:this.logContext})},e.prototype.logNullFrameNodeCreated=function(){this.sendLogMessageToProcessors({id:ar.NullFrameNodeCreated,message:void 0,context:this.logContext})},e.prototype.logInvalidSampleIndex=function(){this.sendLogMessageToProcessors({id:ar.InvalidSampleIndex,message:void 0,context:this.logContext})},e.prototype.logInvalidFrameNodeStartTime=function(){this.sendLogMessageToProcessors({id:ar.InvalidFrameNodeStartTime,message:void 0,context:this.logContext})},e.prototype.logInvalidFrameNodeExecutionTime=function(){this.sendLogMessageToProcessors({id:ar.InvalidFrameNodeExecutionTime,message:void 0,context:this.logContext})},e.prototype.logInvalidNewFrameNodeExecutionTime=function(){this.sendLogMessageToProcessors({id:ar.InvalidNewFrameNodeExecutionTime,message:void 0,context:this.logContext})},e.prototype.logNegativeSubTreeExecutionTime=function(){this.sendLogMessageToProcessors({id:ar.NegativeSubTreeExecutionTime,message:void 0,context:this.logContext})},e.prototype.logFixerForProfilerType=function(e){this.sendLogMessageToProcessors({id:ar.FixerForProfilerType,message:e,context:this.logContext})},e.prototype.logMissingProfilerInitOptionsFixerImplementation=function(){this.sendLogMessageToProcessors({id:ar.MissingProfilerInitOptionsFixerImplementation,message:void 0,context:this.logContext})},e.prototype.logLoopBackFixerFixProfilerInitOptionsInvoked=function(){this.sendLogMessageToProcessors({id:ar.LoopBackFixerFixProfilerInitOptionsInvoked,message:void 0,context:this.logContext})},e.prototype.logLoopBackFixerRetrieveFixedProfilerInitOptionsInvoked=function(){this.sendLogMessageToProcessors({id:ar.LoopBackFixerRetrieveFixedProfilerInitOptionsInvoked,message:void 0,context:this.logContext})},e.prototype.logMissingDeObfuscationEndpoint=function(){this.sendLogMessageToProcessors({id:ar.MissingDeObfuscationEndpoint,message:void 0,context:this.logContext})},e.prototype.logNotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling=function(){this.sendLogMessageToProcessors({id:ar.NotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeDepthFirstIteratorInvoked=function(){this.sendLogMessageToProcessors({id:ar.NullCallTreeDepthFirstIteratorInvoked,message:void 0,context:this.logContext})},e.prototype.logEmptySamplesArrayPassedToFilter=function(){this.sendLogMessageToProcessors({id:ar.EmptySamplesArrayPassedToFilter,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeLeftMostNodesIteratorInvoked=function(){this.sendLogMessageToProcessors({id:ar.NullCallTreeLeftMostNodesIteratorInvoked,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeRightMostNodesIteratorInvoked=function(){this.sendLogMessageToProcessors({id:ar.NullCallTreeRightMostNodesIteratorInvoked,message:void 0,context:this.logContext})},e.prototype.logMissingIsProfilingEnabledOnFeatureChecker=function(){this.sendLogMessageToProcessors({id:ar.MissingIsProfilingEnabledOnFeatureChecker,message:void 0,context:this.logContext})},e.prototype.logFeatureCheckerIsProfilingEnabledNotAFunction=function(){this.sendLogMessageToProcessors({id:ar.FeatureCheckerIsProfilingEnabledNotAFunction,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeGetTotalExecutionTimeInvoked=function(){this.sendLogMessageToProcessors({id:ar.NullCallTreeGetTotalExecutionTimeInvoked,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeGetCustomPropertiesInvoked=function(){this.sendLogMessageToProcessors({id:ar.NullCallTreeGetCustomPropertiesInvoked,message:void 0,context:this.logContext})},e.prototype.logNoCallTreesToSend=function(){this.sendLogMessageToProcessors({id:ar.NoCallTreesToSend,message:void 0,context:this.logContext})},e.prototype.logSerializedCallTrees=function(e){this.sendLogMessageToProcessors({id:ar.SerializedCallTrees,message:e,context:this.logContext})},e.prototype.logNullCallTreeIteratorImplGetNextInvoked=function(){this.sendLogMessageToProcessors({id:ar.NullCallTreeIteratorImplGetNextInvoked,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeIteratorImplHasMoreInvoked=function(){this.sendLogMessageToProcessors({id:ar.NullCallTreeIteratorImplHasMoreInvoked,message:void 0,context:this.logContext})},e.prototype.logMissingProfilerNameForProfilerType=function(e){this.sendLogMessageToProcessors({id:ar.MissingProfilerNameForProfilerType,message:e,context:this.logContext})},e.prototype.logExpectedOnlyOneNodePerLevelInCallTree=function(){this.sendLogMessageToProcessors({id:ar.ExpectedOnlyOneNodePerLevelInCallTree,message:void 0,context:this.logContext})},e.prototype.logMissingWebWorkerSourceURL=function(){this.sendLogMessageToProcessors({id:ar.MissingWebWorkerSourceURL,message:void 0,context:this.logContext})},e.prototype.logMaxNumberOfProfilersAlreadyCreated=function(){this.sendLogMessageToProcessors({id:ar.MaxNumberOfProfilersAlreadyCreated,message:void 0,context:this.logContext})},e.prototype.logWebWorkerAPINotAvailable=function(){this.sendLogMessageToProcessors({id:ar.WebWorkerAPINotAvailable,message:void 0,context:this.logContext})},e.prototype.logSamplingIntervalAboveMaxSamplingInterval=function(){this.sendLogMessageToProcessors({id:ar.SamplingIntervalAboveMaxSamplingInterval,message:void 0,context:this.logContext})},e.prototype.logUnableToBootWebWorker=function(){this.sendLogMessageToProcessors({id:ar.UnableToBootWebWorker,message:void 0,context:this.logContext})},e.prototype.logWorkerInstanceNotFound=function(){this.sendLogMessageToProcessors({id:ar.WorkerInstanceNotFound,message:void 0,context:this.logContext})},e.prototype.logIdNotFoundInMessageToWorker=function(){this.sendLogMessageToProcessors({id:ar.IdNotFoundInMessageToWorker,message:void 0,context:this.logContext})},e.prototype.logDataNotFoundInMessageToWorker=function(){this.sendLogMessageToProcessors({id:ar.DataNotFoundInMessageToWorker,message:void 0,context:this.logContext})},e.prototype.logIdNotFoundInMessageFromWorker=function(){this.sendLogMessageToProcessors({id:ar.IdNotFoundInMessageFromWorker,message:void 0,context:this.logContext})},e.prototype.logDataNotFoundInMessageFromWorker=function(){this.sendLogMessageToProcessors({id:ar.DataNotFoundInMessageFromWorker,message:void 0,context:this.logContext})},e.prototype.logIdNotFoundInWorkerLogMessage=function(){this.sendLogMessageToProcessors({id:ar.IdNotFoundInWorkerLogMessage,message:void 0,context:this.logContext})},e.prototype.logMessageNotFoundInWorkerLogMessage=function(){this.sendLogMessageToProcessors({id:ar.MessageNotFoundInWorkerLogMessage,message:void 0,context:this.logContext})},e.prototype.logUnknownMessageFromWorker=function(e){this.sendLogMessageToProcessors({id:ar.UnknownMessageFromWorker,message:void 0,context:this.logContext})},e.prototype.logUnknownLogMessageFromWorker=function(e){this.sendLogMessageToProcessors({id:ar.UnknownLogMessageFromWorker,message:void 0,context:this.logContext})},e.prototype.logOperation=function(e,r,t,o,n,i,s,a){var l={operationName:e,parentOperationName:r,didOperationSucceed:t,measuredRunTime:o,didOperationFailUnexpectedly:n,logs:i,propertyBag:s,exception:a};this.sendLogMessageToProcessors({id:ar.Operation,message:l,context:this.logContext})},e.prototype.logFallbackResultReturned=function(){this.sendLogMessageToProcessors({id:ar.FallbackResultReturned,message:void 0,context:this.logContext})},e.prototype.logUnknownMessageToWorker=function(e){this.sendLogMessageToProcessors({id:ar.FallbackResultReturned,message:e,context:this.logContext})},e.prototype.logExceptionEncounteredInWorker=function(e){this.sendLogMessageToProcessors({id:ar.ExceptionEncounteredInWorker,message:e,context:this.logContext})},e.prototype.logMissingDeObfuscationInfoInTraceProcessingInfo=function(){this.sendLogMessageToProcessors({id:ar.MissingDeObfuscationInfoInTraceProcessingInfo,message:void 0,context:this.logContext})},e.prototype.logMissingShouldKeepSamplesOutsideOfProfilingIntervalInTraceProcessingInfo=function(){this.sendLogMessageToProcessors({id:ar.MissingShouldKeepSamplesOutsideOfProfilingIntervalInTraceProcessingInfo,message:void 0,context:this.logContext})},e.prototype.logMissingShouldRecordExpandedTimeStampsInTraceProcessingInfo=function(){this.sendLogMessageToProcessors({id:ar.MissingShouldRecordExpandedTimeStampsInTraceProcessingInfo,message:void 0,context:this.logContext})},e.prototype.logMissingCallTreeFilteringThresholdInMsInTraceProcessingInfo=function(){this.sendLogMessageToProcessors({id:ar.MissingCallTreeFilteringThresholdInMs,message:void 0,context:this.logContext})},e.prototype.logInvalidMessageReceivedByWorker=function(){this.sendLogMessageToProcessors({id:ar.InvalidMessageReceivedByWorker,message:void 0,context:this.logContext})},e.prototype.logInvalidProcessTraceMessageReceivedByWorker=function(){this.sendLogMessageToProcessors({id:ar.InvalidProcessTraceMessageReceivedByWorker,message:void 0,context:this.logContext})},e.prototype.logMissingTraceInTraceProcessingInfo=function(){this.sendLogMessageToProcessors({id:ar.InvalidProcessTraceMessageReceivedByWorker,message:void 0,context:this.logContext})},e.prototype.logSerializedCallTreesMissingInProcessorResult=function(){this.sendLogMessageToProcessors({id:ar.SerializedCallTreesMissingInProcessorResult,message:void 0,context:this.logContext})},e.prototype.logLogsMissingInProcessorResult=function(){this.sendLogMessageToProcessors({id:ar.LogsMissingInProcessorResult,message:void 0,context:this.logContext})},e.prototype.logUndefinedWebWorkerCompletionCallback=function(){this.sendLogMessageToProcessors({id:ar.UndefinedWebWorkerCompletionCallback,message:void 0,context:this.logContext})},e.prototype.logLogsMissingInErrorsFromWebWorker=function(){this.sendLogMessageToProcessors({id:ar.LogsMissingInErrorsFromWebWorker,message:void 0,context:this.logContext})},e.prototype.logUndefinedErrorCallback=function(){this.sendLogMessageToProcessors({id:ar.UndefinedErrorCallback,message:void 0,context:this.logContext})},e.prototype.logUndefinedTraceProcessingInfoToReturnBack=function(){this.sendLogMessageToProcessors({id:ar.UndefinedTraceProcessingInfoToReturnBack,message:void 0,context:this.logContext})},e.prototype.logWebWorkerErrorFallingBackToMainEventLoop=function(){this.sendLogMessageToProcessors({id:ar.WebWorkerErrorFallingBackToMainEventLoop,message:void 0,context:this.logContext})},e.prototype.logWebWorkerAlreadyStarted=function(){this.sendLogMessageToProcessors({id:ar.WebWorkerAlreadyStarted,message:void 0,context:this.logContext})},e.prototype.logCustomPropertiesMissingInTrace=function(){this.sendLogMessageToProcessors({id:ar.CustomPropertiesMissingInTrace,message:void 0,context:this.logContext})},e.prototype.logProfilerTraceMissingInTrace=function(){this.sendLogMessageToProcessors({id:ar.ProfilerTraceMissingInTrace,message:void 0,context:this.logContext})},e.prototype.logProfilerTraceStartTimestampMissingInTrace=function(){this.sendLogMessageToProcessors({id:ar.ProfilerTraceStartTimestampMissingInTrace,message:void 0,context:this.logContext})},e.prototype.logProfilerPropertiesMissingInTrace=function(){this.sendLogMessageToProcessors({id:ar.ProfilerPropertiesMissingInTrace,message:void 0,context:this.logContext})},e.prototype.logElapsedProfilingTimeMissingInTrace=function(){this.sendLogMessageToProcessors({id:ar.ElapsedProfilingTimeMissingInTrace,message:void 0,context:this.logContext})},e.prototype.logInvalidProfilerTraceToProcess=function(){this.sendLogMessageToProcessors({id:ar.InvalidProfilerTraceToProcess,message:void 0,context:this.logContext})},e.prototype.logWebWorkerError=function(e){this.sendLogMessageToProcessors({id:ar.WebWorkerError,message:e,context:this.logContext})},e.prototype.logWebWorkerErrorCallbackNotRegistered=function(){this.sendLogMessageToProcessors({id:ar.WebWorkerErrorCallbackNotRegistered,message:void 0,context:this.logContext})},e.prototype.logWebWorkerTraceProcessingInfoMissingToReturnOnError=function(){this.sendLogMessageToProcessors({id:ar.WebWorkerTraceProcessingInfoMissingToReturnOnError,message:void 0,context:this.logContext})},e.prototype.logProfilerTrace=function(e){this.sendLogMessageToProcessors({id:ar.ProfilerTrace,message:e,context:this.logContext})},e.prototype.logMissingCallToFilterCallTrees=function(){this.sendLogMessageToProcessors({id:ar.MissingCallToFilterCallTrees,message:void 0,context:this.logContext})},e.prototype.logMissingCallToFilterFrames=function(){this.sendLogMessageToProcessors({id:ar.MissingCallToFilterFrames,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeFramesFiltererFilterFramesInvoked=function(){this.sendLogMessageToProcessors({id:ar.NullCallTreeFramesFiltererFilterFramesInvoked,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked=function(){this.sendLogMessageToProcessors({id:ar.NullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked,message:void 0,context:this.logContext})},e.prototype.logNullCallTreeGetFramesFiltererInvoked=function(){this.sendLogMessageToProcessors({id:ar.NullCallTreeGetFramesFiltererInvoked,message:void 0,context:this.logContext})},e.prototype.logFilterFrameWithNoParent=function(){this.sendLogMessageToProcessors({id:ar.FilterFrameWithNoParent,message:void 0,context:this.logContext})},e.prototype.subscribe=function(e){this.logMessageProcessors.push(e)},e.prototype.sendLogMessageToProcessors=function(e){this.logMessageProcessors.forEach((function(r){r.processLogMessage(e)}))},e.prototype.logOperationLogMessageFiltererInitOptions=function(e,r,t){this.sendLogMessageToProcessors({id:ar.OperationLogMessageFiltererInitOptions,message:{shouldAlwaysLogOperationsData:e,listOfOperationNamesToAlwaysLog:r,operationMeasuredRunTimeFilteringThresholdInMs:t},context:this.logContext})},e}();!function(e){e[e.MainEventLoop=0]="MainEventLoop",e[e.Worker=1]="Worker"}(gr||(gr={}));var fr=function(){function e(e,r,t,o){this.shouldAlwaysLogOperationsData=e,this.listOfOperationNamesToAlwaysLog=r,this.operationMeasuredRunTimeFilteringThresholdInMs=t,this.logger=o,this.logger.logOperationLogMessageFiltererInitOptions(e,r,t)}return e.prototype.getFiltererName=function(){return"OperationLogMessageFilterer"},e.prototype.shouldFilterLogMessage=function(e){if(e.id!==ar.Operation)return!1;if(this.shouldAlwaysLogOperationsData)return!1;var r=e.message;return!r.didOperationFailUnexpectedly&&(-1===this.listOfOperationNamesToAlwaysLog.indexOf(r.operationName)&&!(r.measuredRunTime>this.operationMeasuredRunTimeFilteringThresholdInMs))},e}(),mr=function(){function e(){}return e.prototype.getTransporterName=function(){return"ULSLogMessageTransporter"},e.prototype.transportLogMessage=function(e){var r="";switch(e.context){case gr.MainEventLoop:r="ProfilingSessionLogger-MainEventLoop";break;case gr.Worker:r="ProfilingSessionLogger-Worker"}switch(e.id){case ar.MissingProfilerImplementation:d.a.sendTraceTag(543477840,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Factory doesn't know how to create profiler of type "+e.message);break;case ar.FailingValidationsInProfilerFactory:d.a.sendTraceTag(543477841,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Validations failed while creating the profiler");break;case ar.WindowMissingInJSEnvironment:d.a.sendTraceTag(543477842,g.a.msoulscat_Wac_Telemetry,p.a.Warning,r+": Unable to find window in the JS environment");break;case ar.WindowPropertyNameChecked:d.a.sendTraceTag(543477843,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": "+e.message);break;case ar.UserAgentToParseChromiumMajorVersionNumber:d.a.sendTraceTag(543477844,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": "+e.message);break;case ar.ChromeNotPresentInUserAgent:d.a.sendTraceTag(543477845,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Chrome was not found in the user agent");break;case ar.UnableToIsolateChromeInformationFromUserAgent:d.a.sendTraceTag(543477846,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Unable to isolate chrome information from the user agent");break;case ar.UnableToExtractChromeVersionInformation:d.a.sendTraceTag(543477847,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Unable to extract chrome version information from the user agent");break;case ar.UnableToParseChromeMajorVersionString:d.a.sendTraceTag(543477848,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Unable to parse the chromium major version number");break;case ar.ParsedChromiumMajorVersionNumber:d.a.sendTraceTag(543477849,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": "+e.message.toString());break;case ar.UserAgentToCheckForChromiumBrowser:d.a.sendTraceTag(543477850,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": "+e.message);break;case ar.EmptyUserAgentString:d.a.sendTraceTag(543477851,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Empty user agent string");break;case ar.BrowserUserAgentNotChromiumBased:d.a.sendTraceTag(543477852,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Browser not chromium based");break;case ar.UserAgentSpoofedToBeChromium:d.a.sendTraceTag(543477853,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Browser user agent spoofed to be chromium based");break;case ar.BrowserNotChromiumBasedBrowser:d.a.sendTraceTag(543477854,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Browser user agent spoofed to be chromium based");break;case ar.UnsupportedChromiumMajorVersionNumber:d.a.sendTraceTag(543477855,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Unsupported chromium major version number");break;case ar.ProfilerInitOptionsNullOrUndefined:d.a.sendTraceTag(543477856,g.a.msoulscat_Wac_Telemetry,p.a.Info,"ProfilerInitOptions cannot be null or undefined");break;case ar.SamplingIntervalIsLessThanOrEqualToZero:d.a.sendTraceTag(543477857,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Sampling interval must be greater than zero");break;case ar.SamplingIntervalLessThanMinimumSupportedSamplingInterval:d.a.sendTraceTag(543477858,g.a.msoulscat_Wac_Telemetry,p.a.Warning,r+": Sampling interval "+e.message.samplingInterval+" is less than minimum supported sampling interval "+e.message.minimumSupportedSamplingInterval+". API might perform scaling");break;case ar.UnsupportedBrowser:d.a.sendTraceTag(543477859,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Profiling is not supported in this browser");break;case ar.UnsupportedOperatingSystem:d.a.sendTraceTag(543477888,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Profiling is not supported in this operating system");break;case ar.JSSelfProfilingAPIUnavailable:d.a.sendTraceTag(543477889,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": JSSelfProfiling is not available");break;case ar.RetrievedUserAgent:d.a.sendTraceTag(543477890,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": "+e.message);break;case ar.NullJSCPUProfilerStartCalled:d.a.sendTraceTag(543477891,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": NullJSCPUProfiler start called");break;case ar.NullJSCPUProfilerStopCalled:d.a.sendTraceTag(543477892,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": NullJSCPUProfiler stop called");break;case ar.NullOrUndefinedProfilerInitOptions:d.a.sendTraceTag(543477893,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": ProfilerInitOptions is null or undefined");break;case ar.MaxBufferSizeFixedToDefaultSize:d.a.sendTraceTag(543477894,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Max buffer size was fixed to the default max size");break;case ar.MaxBufferSizeWasNotFixedBeforeRetrieval:d.a.sendTraceTag(543477895,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Retrieve was called before fix max buffer size was called. The returned options can be undefined");break;case ar.ProfilerNotPresentInJSEnvironment:d.a.sendTraceTag(543477896,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Profiler is not present in the JS environment indicating JSSelfProfiling API is not available");break;case ar.SamplingIntervalValidationCheckFailed:d.a.sendTraceTag(543477897,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Sampling interval validation check failed");break;case ar.MaxBufferValidationFailed:d.a.sendTraceTag(543477898,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Max buffer size validation failed");break;case ar.MaxBufferSizeNotSpecified:d.a.sendTraceTag(543477899,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Max buffer size is not specified");break;case ar.MaxBufferSizeLessThanOrEqualToZero:d.a.sendTraceTag(543477900,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Max buffer size is less than or equal to zero");break;case ar.ManualProfilerValidationFailed:d.a.sendTraceTag(543477901,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Timed profiler initialization options failed to pass manual profiler initialization options");break;case ar.ProfilingIntervalValidationFailed:d.a.sendTraceTag(543477902,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Profiling interval validation failed");break;case ar.ProfilingIntervalNullOrUndefined:d.a.sendTraceTag(543477903,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Profiling interval is null or undefined");break;case ar.ProfilingIntervalLessThanOrEqualToZero:d.a.sendTraceTag(543477904,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Profiling interval is less than or equal to zero");break;case ar.ProfilingIntervalLessThanSamplingInterval:d.a.sendTraceTag(543477905,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Profiling interval is less than sampling interval");break;case ar.TimedProfilerValidationFailed:d.a.sendTraceTag(543477906,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Continuous profiler init options failed to pass timed profiler initialization options");break;case ar.IdleIntervalValidationFailed:d.a.sendTraceTag(543477907,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Idle interval validation failed for continuous profiler");break;case ar.IdleIntervalIsNullOrUndefined:d.a.sendTraceTag(543477908,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Idle interval is a required argument for continuous profiler");break;case ar.IdleIntervalIsLessThanOrEqualToZero:d.a.sendTraceTag(543477909,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Idle interval must be greater than zero");break;case ar.PostProfilerStartCallbackSpecified:d.a.sendTraceTag(543477910,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": A post profiler start callback is specified");break;case ar.PreProfilerStartCheckFailed:d.a.sendTraceTag(543477911,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": One or more pre-profiler start checks failed");break;case ar.MaxBufferSizeNotFixed:d.a.sendTraceTag(543477912,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Max buffer size must be fixed before we get to this point. Is the profiler being created outside the factory?");break;case ar.ProfilerAlreadyStarted:d.a.sendTraceTag(543477913,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Attempting to start the profiler even though the profiler is already started. Stop the profiler first and attempt a restart");break;case ar.ProfilerStartSucceeded:d.a.sendTraceTag(543477914,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": start the profiler successfully");break;case ar.InvokingPostProfilerStartCallback:d.a.sendTraceTag(543477915,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Invoking the post profiler start callback");break;case ar.PostProfilerStopCallbackSpecified:d.a.sendTraceTag(543477916,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": A callback for post profiler stop is specified");break;case ar.ProfilerInstanceIsUndefined:d.a.sendTraceTag(543477917,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Profiler instance is undefined. Is the profiler is being stopped without ever starting?");break;case ar.ProfilerStopPromiseResolved:d.a.sendTraceTag(543477918,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Profiler stop promise has been resolved successfully");break;case ar.ProfilerStopPromiseRejected:d.a.sendTraceTag(543477919,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": "+JSON.stringify({promiseRejectionReason:e.message}));break;case ar.PostProfilerStopCallbackInvoked:d.a.sendTraceTag(543477920,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Post profiler stop callback is being invoked");break;case ar.PostTimedStartProfilerStartCallbackInvoked:d.a.sendTraceTag(543477921,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Post timed profiler start callback invoked");break;case ar.ProfilingIntervalIsUndefined:d.a.sendTraceTag(543477922,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Profiling interval is expected to be defined for timed profiler");break;case ar.TimerJobToStopProfilerSet:d.a.sendTraceTag(543477923,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": A timer job to stop the profiler is created");break;case ar.TimedProfilerStopCallbackInvoked:d.a.sendTraceTag(543477952,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Timed profiler is being stopped automatically");break;case ar.TimedProfilerIsBeingStoppedManually:d.a.sendTraceTag(543477953,g.a.msoulscat_Wac_Telemetry,p.a.Warning,r+": Timed profiler is being stopped manually");break;case ar.ProfilerStartPromiseCreated:d.a.sendTraceTag(543477954,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Profiler start promise has been created");break;case ar.ProfilerStopGoingToBeInvoked:d.a.sendTraceTag(543477955,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": A call to stop profiler is going to be invoked");break;case ar.SamplingIntervalUsedForStartingProfiler:d.a.sendTraceTag(543477956,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": "+e.message.toString());break;case ar.MaxBufferSize:d.a.sendTraceTag(543477957,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": "+e.message.toString());break;case ar.NoProfilerInstanceBuilt:d.a.sendTraceTag(543477958,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": No instance of a profiler was built. Missing implementation?");break;case ar.ProfilerInitOptionsValidationFailed:d.a.sendTraceTag(543477959,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": ProfilerInitOptions validation failed");break;case ar.UnableToFixUpProfilerInitOptions:d.a.sendTraceTag(543477960,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Unable to fixup profilerInitOptions");break;case ar.ProfilingIsNotEnabled:d.a.sendTraceTag(543477961,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Profiling feature is not enabled");break;case ar.ProfilingIsNotSupportedEnvironment:d.a.sendTraceTag(543477962,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Profiling is not supported in the environment");break;case ar.FeatureCheckerIsNullOrUndefined:d.a.sendTraceTag(543477963,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Feature checker is null or undefined");break;case ar.NullSupportedEnvironmentCheckerInvoked:d.a.sendTraceTag(543477964,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": NullSupportedEnvironmentChecker was invoked");break;case ar.NullJSCPUProfilerInitOptionsValidatorInvoked:d.a.sendTraceTag(543477965,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": NullJSCPUProfilerInitOptionsValidator was invoked");break;case ar.NullJSCPUProfilerFactoryInvoked:d.a.sendTraceTag(543477966,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": NullJSCPUProfilerFactory createProfiler was invoked");break;case ar.NullOrUndefinedIdleInterval:d.a.sendTraceTag(543477967,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": idleIntervalInMs is null or undefined. So killing the timer job");break;case ar.NoProfilerObserverSubscribed:d.a.sendTraceTag(543477968,g.a.msoulscat_Wac_Telemetry,p.a.Warning,r+": No profiler observer has been subscribed. The profile will not be sent for collection");break;case ar.CreateProfilerDidNotSubscribeProfilerObserver:d.a.sendTraceTag(543477969,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": A profiler observer was never subscribed to the created profiler");break;case ar.NullOrUndefinedCustomPropertiesRetriever:d.a.sendTraceTag(543477972,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Custom Properties retriever is null or undefined");break;case ar.NullOrUndefinedCustomProperties:d.a.sendTraceTag(543477973,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Custom Properties is null or undefined");break;case ar.CustomPropertyKeyIsNull:d.a.sendTraceTag(543477974,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": A custom property key is null");break;case ar.CustomPropertyValueIsNull:d.a.sendTraceTag(543477975,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": A custom property value is null");break;case ar.RetrieveCallTreesCalledBeforeTransform:d.a.sendTraceTag(543477976,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Transform should be called before retrieveCallTrees");break;case ar.RetrieveBuiltCallTreesBeforeBuildCallTrees:d.a.sendTraceTag(543477977,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": BuildCallTrees should be called before retrieveBuiltCallTrees");break;case ar.RetrieveStacksCalledBeforeBuildStacks:d.a.sendTraceTag(543477978,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": BuildStacks should be called before retrieveStacks");break;case ar.ExecutionStacksNeverBuilt:d.a.sendTraceTag(543477979,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Execution stacks were not built. Instead an empty array of stacks will be returned");break;case ar.PeekOnNullExecutionStackInvoked:d.a.sendTraceTag(543477980,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Peek was invoked on Null ExecutionStack");break;case ar.PopOnNullExecutionStackInvoked:d.a.sendTraceTag(543477981,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Pop was invoked on Null ExecutionStack");break;case ar.EmptyStacks:d.a.sendTraceTag(543477982,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Stacks array is empty. No further processing can be performed.");break;case ar.EmptyFrames:d.a.sendTraceTag(543477983,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Frames array is empty. No further processing can be performed.");break;case ar.ForciblyExitingLoopWhileBuildingStack:d.a.sendTraceTag(543477984,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": While loop is being forcibly exited because of a runaway while loop ");break;case ar.RetrieveStackCalledBeforeBuildStack:d.a.sendTraceTag(543477985,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": BuildStack should be called before RetrieveStack");break;case ar.ExecutionStackNeverBuilt:d.a.sendTraceTag(543477986,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Built execution stack is undefined. So null execution stack will be returned");break;case ar.ConvertStacksToCallTreesNeverCalled:d.a.sendTraceTag(543477987,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Convert stacks to call trees was not called before retrieve call trees. Empty call trees will be returned");break;case ar.ConvertStackToCallTreeNeverCalled:d.a.sendTraceTag(543478016,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Convert stack to call tree was not called before retrieve call tree. Null call tree will be returned");break;case ar.NullFrameNodeCreated:d.a.sendTraceTag(543478017,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": NullFrameNode created");break;case ar.InvalidSampleIndex:d.a.sendTraceTag(543478018,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": sampleIndex needs to be greater than zero for proper indexing");break;case ar.InvalidFrameNodeStartTime:d.a.sendTraceTag(543478019,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Invalid frame node starting time");break;case ar.InvalidFrameNodeExecutionTime:d.a.sendTraceTag(543478020,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Invalid frame node execution time");break;case ar.InvalidNewFrameNodeExecutionTime:d.a.sendTraceTag(543478021,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Invalid new frame node execution time");break;case ar.NegativeSubTreeExecutionTime:d.a.sendTraceTag(543478022,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Negative sub tree execution time");break;case ar.FixerForProfilerType:d.a.sendTraceTag(543478023,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": "+e.message.toString());break;case ar.MissingProfilerInitOptionsFixerImplementation:d.a.sendTraceTag(543478024,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Missing profiler init options fixer for unknown profiler type");break;case ar.LoopBackFixerFixProfilerInitOptionsInvoked:d.a.sendTraceTag(543478025,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": LoopBackFixer fixProfilerInitOptions was invoked");break;case ar.LoopBackFixerRetrieveFixedProfilerInitOptionsInvoked:d.a.sendTraceTag(543478026,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": LoopBackFixer retrieveFixedProfilerInitOptions was invoked");break;case ar.MissingDeObfuscationEndpoint:d.a.sendTraceTag(543478027,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Null or undefined deObfuscation endpoint was provided");break;case ar.NotProcessingCapturedTraceDueToDocumentBeingHiddenDuringProfiling:d.a.sendTraceTag(543478028,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": The profile was captured in a hidden document. So, we are not processing it");break;case ar.NullCallTreeDepthFirstIteratorInvoked:d.a.sendTraceTag(543478029,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Null getDepthFirstIterator was invoked");break;case ar.EmptySamplesArrayPassedToFilter:d.a.sendTraceTag(543478030,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": In order to properly filter out samples we need at least one sample");break;case ar.NullCallTreeLeftMostNodesIteratorInvoked:d.a.sendTraceTag(543478031,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Null iterator was returned back to iterate over left most nodes");break;case ar.NullCallTreeRightMostNodesIteratorInvoked:d.a.sendTraceTag(543478032,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Null iterator was returned back to iterate over right most nodes");break;case ar.MissingIsProfilingEnabledOnFeatureChecker:d.a.sendTraceTag(543478033,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": isProfilingEnabled is missing in FeatureChecker");break;case ar.FeatureCheckerIsProfilingEnabledNotAFunction:d.a.sendTraceTag(543478034,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": isProfilingEnabled on FeatureChecker is not a function");break;case ar.NullCallTreeGetTotalExecutionTimeInvoked:d.a.sendTraceTag(543478035,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": NullCallTree getTotalExecutionTimeInMs was invoked");break;case ar.NullCallTreeGetCustomPropertiesInvoked:d.a.sendTraceTag(543478036,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": NullCallTree getCustomProperties was invoked");break;case ar.SerializedCallTrees:d.a.sendTraceTag(543478037,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": "+e.message);break;case ar.NullCallTreeIteratorImplGetNextInvoked:d.a.sendTraceTag(543478038,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": NullCallTreeIterator getNext was invoked");break;case ar.NullCallTreeIteratorImplHasMoreInvoked:d.a.sendTraceTag(543478039,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": NullCallTreeIterator hasMore was invoked");break;case ar.MissingProfilerNameForProfilerType:d.a.sendTraceTag(543478040,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Missing profiler name for profiler type "+e.message);break;case ar.ExpectedOnlyOneNodePerLevelInCallTree:d.a.sendTraceTag(543478041,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Expected to see only one node per level in the call tree");break;case ar.MissingWebWorkerSourceURL:d.a.sendTraceTag(543478042,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": In order to use the web worker to process the profile, a source URL needs to be passed into the worker. But the URL was not provided");break;case ar.MaxNumberOfProfilersAlreadyCreated:d.a.sendTraceTag(543478043,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Max number of profilers have already been created. Cannot create anymore");break;case ar.SamplingIntervalAboveMaxSamplingInterval:d.a.sendTraceTag(543478044,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": The sampling interval is above the maximum allowed sampling interval");break;case ar.WebWorkerAPINotAvailable:d.a.sendTraceTag(543478045,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Web Worker API is not available. We will fallback to processing traces on the main event loop");break;case ar.UnableToBootWebWorker:d.a.sendTraceTag(543478046,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Attempted to start the web worker. But it failed for some reason");break;case ar.WorkerInstanceNotFound:d.a.sendTraceTag(543478047,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Web worker instance was not found. Cannot perform any action");break;case ar.IdNotFoundInMessageToWorker:d.a.sendTraceTag(543478048,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Id was not found in the message sent to the worker");break;case ar.DataNotFoundInMessageToWorker:d.a.sendTraceTag(543478049,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Data was not found in the message sent to the worker");break;case ar.IdNotFoundInMessageFromWorker:d.a.sendTraceTag(543478050,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Id was not found in the message sent from the worker");break;case ar.DataNotFoundInMessageFromWorker:d.a.sendTraceTag(543478051,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Data was not found in the message sent from the worker");break;case ar.UnknownMessageFromWorker:d.a.sendTraceTag(543478080,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Unknown message with message id - "+e.message+" sent from the worker");break;case ar.IdNotFoundInWorkerLogMessage:d.a.sendTraceTag(543478081,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Id is not present in the log message from the worker");break;case ar.MessageNotFoundInWorkerLogMessage:d.a.sendTraceTag(543478082,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": message is not present in the log message from the worker");break;case ar.UnknownLogMessageFromWorker:d.a.sendTraceTag(543478083,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Unknown log message id - "+e.message+" sent as part of the worker log message");break;case ar.Operation:d.a.sendTraceTag(543478084,g.a.msoulscat_Wac_Telemetry,e.message.didOperationFailUnexpectedly?p.a.Error:p.a.Info,r+": "+JSON.stringify({operationName:e.message.operationName,parentOperationName:e.message.parentOperationName,didOperationSucceed:e.message.didOperationSucceed,measuredRunTime:e.message.measuredRunTime,logs:e.message.logs,properties:e.message.propertyBag?Array.from(e.message.propertyBag):e.message.propertyBag,exception:e.message.exception}));break;case ar.FallbackResultReturned:d.a.sendTraceTag(543478085,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Exception encountered. So, fallback result is being returned back");break;case ar.UnknownMessageToWorker:d.a.sendTraceTag(543478086,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Unknown worker messageId "+e.message+" encountered");break;case ar.ExceptionEncounteredInWorker:d.a.sendTraceTag(543478087,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": "+JSON.stringify(e.message));break;case ar.MissingDeObfuscationInfoInTraceProcessingInfo:d.a.sendTraceTag(543478088,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Missing deObfuscationInfo in trace processing information");break;case ar.MissingShouldKeepSamplesOutsideOfProfilingIntervalInTraceProcessingInfo:d.a.sendTraceTag(543478089,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Missing shouldKeepSamplesOutsideOfProfilingInterval in trace processing information");break;case ar.MissingShouldRecordExpandedTimeStampsInTraceProcessingInfo:d.a.sendTraceTag(543478090,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Missing shouldRecordExpandedTimeStamps in trace processing information");break;case ar.MissingCallTreeFilteringThresholdInMsInTraceProcessingInfo:d.a.sendTraceTag(543478091,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Missing callTreeFilteringThresholdInMs in trace processing information");break;case ar.InvalidMessageReceivedByWorker:d.a.sendTraceTag(543478092,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Invalid message received by the worker. Returning without any processing");break;case ar.InvalidProcessTraceMessageReceivedByWorker:d.a.sendTraceTag(543478093,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Invalid process trace message received by the worker. Returning without any processing");break;case ar.MissingTraceInTraceProcessingInfo:d.a.sendTraceTag(543478094,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Missing trace in trace processing information");break;case ar.SerializedCallTreesMissingInProcessorResult:d.a.sendTraceTag(543478095,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": serializedCallTrees is missing in the processor result");break;case ar.LogsMissingInProcessorResult:d.a.sendTraceTag(543478096,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": logs is missing in the processor result");break;case ar.UndefinedWebWorkerCompletionCallback:d.a.sendTraceTag(543478097,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Undefined completion callback for the processor result. The results will be ignored");break;case ar.LogsMissingInErrorsFromWebWorker:d.a.sendTraceTag(543478098,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Worker raised an error. But no logs can be found in the message that the worker sent over. This should not happen");break;case ar.UndefinedErrorCallback:d.a.sendTraceTag(543478099,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Worker raised an error. But the main thread has not provided a callback function to notify on error. So, ignoring the error");break;case ar.UndefinedTraceProcessingInfoToReturnBack:d.a.sendTraceTag(543478100,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": The worker ran into an error. But no trace processing info was found to return back to the caller");break;case ar.WebWorkerAlreadyStarted:d.a.sendTraceTag(543478101,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": Attempting to start a web worker that has already been started");break;case ar.WebWorkerErrorFallingBackToMainEventLoop:d.a.sendTraceTag(543478102,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Error encountered in the web worker. So falling back to processing the trace in the main event loop");break;case ar.CustomPropertiesMissingInTrace:d.a.sendTraceTag(543478103,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": CustomProperties was not found in the trace");break;case ar.ProfilerTraceMissingInTrace:d.a.sendTraceTag(543478104,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": ProfilerTrace was not found in the trace");break;case ar.ProfilerTraceStartTimestampMissingInTrace:d.a.sendTraceTag(543478105,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": ProfilerTraceStartTimestamp was not found in the trace");break;case ar.ProfilerPropertiesMissingInTrace:d.a.sendTraceTag(543478106,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": ProfilerProperties was not found in the trace");break;case ar.ElapsedProfilingTimeMissingInTrace:d.a.sendTraceTag(543478107,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": ElapsedProfilingTime was not found in the trace");break;case ar.InvalidProfilerTraceToProcess:d.a.sendTraceTag(543478108,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Invalid profiler trace to process. Returning back without processing");break;case ar.WebWorkerError:d.a.sendTraceTag(543478109,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": "+e.message);break;case ar.WebWorkerErrorCallbackNotRegistered:d.a.sendTraceTag(543478110,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": No error callback has been registered for the web worker. So ignoring the error message");break;case ar.WebWorkerTraceProcessingInfoMissingToReturnOnError:d.a.sendTraceTag(543478111,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": In order to reprocess the trace in the main event loop, trace processing info is required. But did not find any");break;case ar.ProfilerTrace:d.a.sendTraceTag(543478112,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": "+JSON.stringify({resources:e.message.getResources(),frames:e.message.getFrames(),stacks:e.message.getStacks(),samples:e.message.getSamples()}));break;case ar.MissingCallToFilterCallTrees:d.a.sendTraceTag(543478113,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Missing a call to filterCallTrees. Returning an empty array back");break;case ar.MissingCallToFilterFrames:d.a.sendTraceTag(543478114,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Missing a call to filterFrames. Returning NullCallTree back");break;case ar.NullCallTreeFramesFiltererFilterFramesInvoked:d.a.sendTraceTag(543478115,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": filterFrames invoked on NullCallTreeFilterFrames");break;case ar.NullCallTreeFramesFiltererRetrieveFilteredCallTreeInvoked:d.a.sendTraceTag(543478144,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": retrieveFilteredCallTree invoked on NullCallTreeFilterFrames");break;case ar.NullCallTreeGetFramesFiltererInvoked:d.a.sendTraceTag(543478145,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": getFramesFilterer invoked on NullCallTree");break;case ar.FilterFrameWithNoParent:d.a.sendTraceTag(543478146,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": CallTreeFramesFiltererImpl tries to filter node with no parent");break;case ar.OperationLogMessageFiltererInitOptions:d.a.sendTraceTag(542389340,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": "+JSON.stringify(e.message));break;case ar.NoCallTreesToSend:d.a.sendTraceTag(542229786,g.a.msoulscat_Wac_Telemetry,p.a.Info,r+": No call trees to send to server");break;default:d.a.sendTraceTag(543478147,g.a.msoulscat_Wac_Telemetry,p.a.Error,r+": Unknown LogId. Please add a case for "+e.id)}},e}(),Tr=function(){function e(){this.logMessageFilterers=[],this.logMessageTransporters=[]}return e.prototype.processLogMessage=function(e){this.shouldFilterLogMessage(e)||this.logMessageTransporters.forEach((function(r){r.transportLogMessage(e)}))},e.prototype.subscribeFilterer=function(e){this.logMessageFilterers.push(e)},e.prototype.subscribeTransporter=function(e){this.logMessageTransporters.push(e)},e.prototype.shouldFilterLogMessage=function(e){if(void 0===e)return!0;for(var r=0,t=this.logMessageFilterers;r<t.length;r++){if(t[r].shouldFilterLogMessage(e))return!0}return!1},e}(),hr=function(e){function r(r,t){var o=e.call(this)||this;return o.idleTimeJobScheduler=r,o.logger=t,o.storedLogMessages=R.createQueue(),o.idleTimeJobScheduled=!1,o}return Object(V.__extends)(r,e),r.prototype.processLogMessage=function(e){this.storedLogMessages.queue(e),this.storedLogMessages.length()>10&&this.logMessageTransporters.length>0&&!this.idleTimeJobScheduled&&(this.idleTimeJobScheduled=!0,this.transportLogsInIdleTime())},r.prototype.getNextLogMessageToTransport=function(){for(var e=this.storedLogMessages.peek();void 0!==e&&this.shouldFilterLogMessage(e);)this.storedLogMessages.dequeue(),e=this.storedLogMessages.peek();return void 0!==e&&this.storedLogMessages.dequeue(),e},r.prototype.transportLogsInIdleTime=function(){var e=this,r=l.b.generateOperationResult({didOperationSucceed:!1,result:void 0});this.idleTimeJobScheduler.scheduleJobForIdleTime((function(){l.a.startNew("TransportLogMessagesInIdleTime",(function(){for(var r=e.getNextLogMessageToTransport(),t=0;void 0!==r&&t<100;)e.logMessageTransporters.forEach((function(e){void 0!==r&&e.transportLogMessage(r)})),t+=1,r=e.getNextLogMessageToTransport();return e.idleTimeJobScheduled=!1,l.b.generateOperationResult({didOperationSucceed:!0,result:void 0})}),r,e.logger)}))},r.prototype.getAllStoredLogMessages=function(){return this.storedLogMessages},r}(Tr),vr=function(){function e(){this.logger=new pr(gr.MainEventLoop);var e=v.getIdleTimeJobScheduler();this.logMessageProcessor=new hr(e,this.logger),this.logger.subscribe(this.logMessageProcessor)}return e.prototype.retrievePackage=function(e,r){var t=this,o=l.b.generateOperationResult({didOperationSucceed:!1,result:new dr(this.logger)});return l.a.startNew("RetrieveCPUProfilingPackage",(function(o){if(null==r)return l.b.generateOperationResult({didOperationSucceed:!1,result:new dr(t.logger)});if(null==r.ulsInstance)return l.b.generateOperationResult({didOperationSucceed:!1,result:new dr(t.logger)});if(Object(d.b)(r.ulsInstance),null==r.deObfuscationEndpoint)return t.logger.logMissingDeObfuscationEndpoint(),l.b.generateOperationResult({didOperationSucceed:!1,result:new dr(t.logger)});if(null==r.useMainEventLoopForProfilerTraceProcessing&&(r.useMainEventLoopForProfilerTraceProcessing=!1),o.addProperty("UseMainEventLoopForProfilerTraceProcessing",r.useMainEventLoopForProfilerTraceProcessing),!r.useMainEventLoopForProfilerTraceProcessing&&null==r.profilerTraceProcessingWebWorkerSourceURL)return t.logger.logMissingWebWorkerSourceURL(),l.b.generateOperationResult({didOperationSucceed:!1,result:new dr(t.logger)});null==r.callTreeFilteringThresholdInMs&&(r.callTreeFilteringThresholdInMs=50),null==r.shouldProfilingStartInAHiddenDocument&&(r.shouldProfilingStartInAHiddenDocument=!1),null==r.shouldProcessProfileCapturedInAHiddenDocument&&(r.shouldProcessProfileCapturedInAHiddenDocument=!1),null==r.shouldKeepSamplesOutsideOfProfilingInterval&&(r.shouldKeepSamplesOutsideOfProfilingInterval=!1),null==r.shouldRecordExpandedTimeStamps&&(r.shouldRecordExpandedTimeStamps=!1),null==r.shouldSendAllCallTreesFromProfileInASingleRequest&&(r.shouldSendAllCallTreesFromProfileInASingleRequest=!1),null==r.frameTotalExecutionTimeFilteringThresholdInMs&&(r.frameTotalExecutionTimeFilteringThresholdInMs=0),null==r.shouldAlwaysLogOperationsData&&(r.shouldAlwaysLogOperationsData=!1),null==r.durationThresholdInMsToLogOperationData&&(r.durationThresholdInMsToLogOperationData=50),null==r.shouldUseInMemoryLogger&&(r.shouldUseInMemoryLogger=!1),r.shouldUseInMemoryLogger||(t.logMessageProcessor=new Tr);var n=new fr(r.shouldAlwaysLogOperationsData,j,r.durationThresholdInMsToLogOperationData,t.logger);t.logMessageProcessor.subscribeFilterer(n);var i=new mr;t.logMessageProcessor.subscribeTransporter(i);return o.addProperty("DeObfuscationEndpoint",r.deObfuscationEndpoint),o.addProperty("CallTreeFilteringThresholdInMs",r.callTreeFilteringThresholdInMs),o.addProperty("ShouldProfilingStartInAHiddenDocument",r.shouldProfilingStartInAHiddenDocument),o.addProperty("ShouldProcessProfileCapturedInAHiddenDocument",r.shouldProcessProfileCapturedInAHiddenDocument),o.addProperty("ShouldKeepSamplesOutsideOfProfilingInterval",r.shouldKeepSamplesOutsideOfProfilingInterval),o.addProperty("ShouldRecordExpandedTimeStamps",r.shouldRecordExpandedTimeStamps),o.addProperty("WebWorkerSourceURL",r.profilerTraceProcessingWebWorkerSourceURL),o.addProperty("ShouldSendAllCallTreesFromProfileInASingleRequest",r.shouldSendAllCallTreesFromProfileInASingleRequest),o.addProperty("FrameTotalExecutionTimeFilteringThresholdInMs",r.frameTotalExecutionTimeFilteringThresholdInMs),o.addProperty("ShouldAlwaysLogOperationsData",r.shouldAlwaysLogOperationsData),o.addProperty("DurationThresholdToLogOperationData",r.durationThresholdInMsToLogOperationData),o.addProperty("ShouldUseInMemoryLogger",r.shouldUseInMemoryLogger),l.b.generateOperationResult({didOperationSucceed:!0,result:new ur(e,r,t.logMessageProcessor,t.logger)})}),o,this.logger).getResult()},e}(),Pr=function(){function e(){}return e.buildProcessor=function(e,r,t,o,n){var i=new we(n),s=new Ye(n),a=new Fe(i,s,e,r,n),l=new He(n),c=new Ce(a,l,n),u=new Qe(n),d=new Xe(n),g=new cr(n),p=new ye(c,u,d,t,g,o,n),f=new er(n);return new rr(p,f)},e}(),Sr=function(){function e(){this.storedLogMessages=[]}return e.prototype.processLogMessage=function(e){this.storedLogMessages.push(e)},e.prototype.retrieveStoredLogMessages=function(){return this.storedLogMessages},e}();t.d(r,"d",(function(){return vr})),t.d(r,"h",(function(){return Ke})),t.d(r,"c",(function(){return Pr})),t.d(r,"b",(function(){return z})),t.d(r,"f",(function(){return"ProfilerWorkerOnMessage"})),t.d(r,"g",(function(){return pr})),t.d(r,"e",(function(){return gr})),t.d(r,"a",(function(){return Sr}))},8:function(e,r,t){"use strict";t.r(r),t.d(r,"__extends",(function(){return n})),t.d(r,"__assign",(function(){return i})),t.d(r,"__rest",(function(){return s})),t.d(r,"__decorate",(function(){return a})),t.d(r,"__param",(function(){return l})),t.d(r,"__metadata",(function(){return c})),t.d(r,"__awaiter",(function(){return u})),t.d(r,"__generator",(function(){return d})),t.d(r,"__createBinding",(function(){return g})),t.d(r,"__exportStar",(function(){return p})),t.d(r,"__values",(function(){return f})),t.d(r,"__read",(function(){return m})),t.d(r,"__spread",(function(){return T})),t.d(r,"__spreadArrays",(function(){return h})),t.d(r,"__spreadArray",(function(){return v})),t.d(r,"__await",(function(){return P})),t.d(r,"__asyncGenerator",(function(){return S})),t.d(r,"__asyncDelegator",(function(){return I})),t.d(r,"__asyncValues",(function(){return b})),t.d(r,"__makeTemplateObject",(function(){return y})),t.d(r,"__importStar",(function(){return k})),t.d(r,"__importDefault",(function(){return O})),t.d(r,"__classPrivateFieldGet",(function(){return M})),t.d(r,"__classPrivateFieldSet",(function(){return x}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var o=function(e,r){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])})(e,r)};function n(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}o(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var i=function(){return(i=Object.assign||function(e){for(var r,t=1,o=arguments.length;t<o;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)};function s(e,r){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(t[o[n]]=e[o[n]])}return t}function a(e,r,t,o){var n,i=arguments.length,s=i<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,r,t,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(i<3?n(s):i>3?n(r,t,s):n(r,t))||s);return i>3&&s&&Object.defineProperty(r,t,s),s}function l(e,r){return function(t,o){r(t,o,e)}}function c(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)}function u(e,r,t,o){return new(t||(t=Promise))((function(n,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function a(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var r;e.done?n(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(s,a)}l((o=o.apply(e,r||[])).next())}))}function d(e,r){var t,o,n,i,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){s.label=i[1];break}if(6===i[0]&&s.label<n[1]){s.label=n[1],n=i;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(i);break}n[2]&&s.ops.pop(),s.trys.pop();continue}i=r.call(e,s)}catch(e){i=[6,e],o=0}finally{t=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var g=Object.create?function(e,r,t,o){void 0===o&&(o=t),Object.defineProperty(e,o,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,o){void 0===o&&(o=t),e[o]=r[t]};function p(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||g(r,e,t)}function f(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],o=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var o,n,i=t.call(e),s=[];try{for(;(void 0===r||r-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(n)throw n.error}}return s}function T(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(m(arguments[r]));return e}function h(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var o=Array(e),n=0;for(r=0;r<t;r++)for(var i=arguments[r],s=0,a=i.length;s<a;s++,n++)o[n]=i[s];return o}function v(e,r,t){if(t||2===arguments.length)for(var o,n=0,i=r.length;n<i;n++)!o&&n in r||(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}function P(e){return this instanceof P?(this.v=e,this):new P(e)}function S(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=t.apply(e,r||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(e){n[e]&&(o[e]=function(r){return new Promise((function(t,o){i.push([e,r,t,o])>1||a(e,r)}))})}function a(e,r){try{(t=n[e](r)).value instanceof P?Promise.resolve(t.value.v).then(l,c):u(i[0][2],t)}catch(e){u(i[0][3],e)}var t}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,r){e(r),i.shift(),i.length&&a(i[0][0],i[0][1])}}function I(e){var r,t;return r={},o("next"),o("throw",(function(e){throw e})),o("return"),r[Symbol.iterator]=function(){return this},r;function o(o,n){r[o]=e[o]?function(r){return(t=!t)?{value:P(e[o](r)),done:"return"===o}:n?n(r):r}:n}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=f(e),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(t){r[t]=e[t]&&function(r){return new Promise((function(o,n){(function(e,r,t,o){Promise.resolve(o).then((function(r){e({value:r,done:t})}),r)})(o,n,(r=e[t](r)).done,r.value)}))}}}function y(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}var C=Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r};function k(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&g(r,e,t);return C(r,e),r}function O(e){return e&&e.__esModule?e:{default:e}}function M(e,r,t,o){if("a"===t&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof r?e!==r||!o:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?o:"a"===t?o.call(e):o?o.value:r.get(e)}function x(e,r,t,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof r?e!==r||!n:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(e,t):n?n.value=t:r.set(e,t),t}}});
//# sourceMappingURL=officeOnlineCpuProfiling.min.js.map